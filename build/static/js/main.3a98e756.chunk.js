(this["webpackJsonptiptop-front"]=this["webpackJsonptiptop-front"]||[]).push([[0],{148:function(e,t){},185:function(e,t,c){},186:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(41),o=c.n(s),r=c(8);c(97),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=c(5),i=c(6),d=c(0),j=function(e){var t=e.currentPage;return Object(d.jsx)("div",{className:"ht__bradcaump__area",children:Object(d.jsx)("div",{className:"ht__bradcaump__wrap",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-xs-12",children:Object(d.jsx)("div",{className:"bradcaump__inner text-center",children:Object(d.jsx)("h2",{className:"bradcaump-title",children:t})})})})})})})},b={API:"http://52.90.192.153/api",FPD_URL:"http://localhost:3000/fpd",BASE_FPD_URL:"http://localhost:3000",HOME_URL:"http://localhost:3001",PASADENA_INFO:{address:"TiptipTop's Address",contact_email:"info@tiptiptop.com",contact_phone:"+1 123 456 78910",social_network:{facebook:"https://facebook.com",instagram:"https://instagram.com",twitter:"https://twitter.com"}},DB_CONFIG:{name:"TiptiptopCart",version:1,objectStoresMeta:[{store:"cart",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"guid",keypath:"guid",options:{unique:!0}},{name:"product",keypath:"product",options:{unique:!1}},{name:"productType",keypath:"productType",options:{unique:!1}},{name:"size",keypath:"size",options:{unique:!1}},{name:"color",keypath:"color",options:{unique:!1}},{name:"price",keypath:"price",options:{unique:!1}},{name:"description",keypath:"description",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"qty",keypath:"qty",options:{unique:!1}},{name:"availableSizes",keypath:"availableSizes",options:{unique:!1}},{name:"weight",keypath:"weight",options:{unique:!1}}]}]},US_STATES:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District Of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],COLORS:[{name:"Grey",hexCode:"5E5F5F"},{name:"Black",hexCode:"1C1C1C"},{name:"Light Green",hexCode:"8EEBC1"},{name:"White",hexCode:"FFFFFF"},{name:"Navy Blue",hexCode:"152958"},{name:"Vintage Black",hexCode:"222222"},{name:"Brunt Orange",hexCode:"E78848"},{name:"Pink",hexCode:"E09B8E"},{name:"Red",hexCode:"C1000A"},{name:"Team Purple",hexCode:"552583"},{name:"Marron",hexCode:"4F1111"},{name:"Green",hexCode:"114C2A"},{name:"Yellow",hexCode:"F3CC30"}],SIZES:[{code:"S",name:"Small"},{code:"M",name:"Medium"},{code:"L",name:"Large"},{code:"XL",name:"Extra-Large"},{code:"XXL",name:"Extra-Extra-Large"}],COLORS_INIT:{"5E5F5F":!1,"1C1C1C":!1,"8EEBC1":!1,FFFFFF:!1,152958:!1,222222:!1,E78848:!1,E09B8E:!1,C1000A:!1,552583:!1,"4F1111":!1,"114C2A":!1,F3CC30:!1},SIZES_INIT:{S:!1,M:!1,L:!1,XL:!1,XXL:!1},ORDER_STATUS:{pending_payment:"pending_payment",open:"open",hold:"hold",processed:"processed",shipped:"shipped",completed:"completed",canceled:"canceled"}},u=Object(i.h)((function(e){e.history;return Object(d.jsx)("footer",{className:"htc__foooter__area gray-bg mt--40",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"footer__container clearfix",children:[Object(d.jsx)("div",{className:"col-md-3 col-lg-4 col-sm-6",children:Object(d.jsxs)("div",{className:"ft__widget",children:[Object(d.jsx)("h2",{className:"ft__title",children:Object(d.jsx)(l.b,{className:"",to:"/",children:"TipTipTop"})}),Object(d.jsx)("div",{className:"footer-address",children:Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("div",{className:"address-icon",children:Object(d.jsx)("i",{className:"zmdi zmdi-pin"})}),Object(d.jsx)("div",{className:"address-text",children:Object(d.jsx)("p",{children:b.PASADENA_INFO.address})})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("div",{className:"address-icon",children:Object(d.jsx)("i",{className:"zmdi zmdi-email"})}),Object(d.jsx)("div",{className:"address-text",children:Object(d.jsx)("a",{href:"mailto:".concat(b.PASADENA_INFO.contact_email),children:b.PASADENA_INFO.contact_email})})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("div",{className:"address-icon",children:Object(d.jsx)("i",{className:"zmdi zmdi-phone-in-talk"})}),Object(d.jsx)("div",{className:"address-text",children:Object(d.jsx)("p",{children:b.PASADENA_INFO.contact_phone})})]})]})}),Object(d.jsxs)("ul",{className:"social__icon",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:b.PASADENA_INFO.social_network.twitter,children:Object(d.jsx)("i",{className:"zmdi zmdi-twitter"})})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:b.PASADENA_INFO.social_network.instagram,children:Object(d.jsx)("i",{className:"zmdi zmdi-instagram"})})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:b.PASADENA_INFO.social_network.facebook,children:Object(d.jsx)("i",{className:"zmdi zmdi-facebook"})})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:b.PASADENA_INFO.social_network.facebook,children:Object(d.jsx)("i",{className:"zmdi zmdi-google-plus"})})})]})]})}),Object(d.jsx)("div",{className:"col-md-3 col-lg-4 col-sm-6 smt-30 xmt-30",children:Object(d.jsxs)("div",{className:"ft__widget",children:[Object(d.jsx)("h2",{className:"ft__title",children:"Categories"}),Object(d.jsxs)("ul",{className:"footer-categories",children:[Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/screen-printing/traditional",children:"Restaurants"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/screen-printing/htv",children:"NightClubs"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/sublimation",children:"Parking"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/embroidery",children:"Hotels"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/engraving",children:"Airports"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/merchandise",children:"Malls"})})]})]})}),Object(d.jsx)("div",{className:"col-md-3 col-lg-4 col-sm-6 smt-30 xmt-30",children:Object(d.jsxs)("div",{className:"ft__widget",children:[Object(d.jsx)("h2",{className:"ft__title",children:"Information"}),Object(d.jsxs)("ul",{className:"footer-categories",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"mailto:".concat(b.PASADENA_INFO.contact_email),children:"Contact Us"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{children:"Terms & Conditions"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{children:"Returns & Exchanges"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{children:"Shipping & Delivery"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{children:"Privacy Policy"})})]})]})})]})}),Object(d.jsx)("div",{className:"htc__copyright__area",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12 col-xs-12",children:Object(d.jsxs)("div",{className:"copyright__inner",children:[Object(d.jsx)("div",{className:"copyright",children:Object(d.jsxs)("p",{children:["\xa9 2021 ",Object(d.jsx)(l.b,{className:"",to:"/",children:"TipTipTop"})," ..."]})}),Object(d.jsxs)("ul",{className:"footer__menu",children:[Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{className:"",to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"mailto:".concat(b.PASADENA_INFO.contact_email),children:"Contact Us"})})]})]})})})})]})})})),m=c(2),h=function(e,t){if(e.location.pathname===t)return{color:"#ff4136"}},O=Object(i.h)((function(e){var t=e.history,c=Object(a.useState)(localStorage.getItem("cartHasItems")),n=Object(m.a)(c,2),s=n[0],o=n[1];Object(a.useEffect)((function(){setInterval((function(){var e=localStorage.getItem("cartHasItems");e&&e!=s&&o(e)}),1500)}),[]);var r=Object(a.useCallback)((function(e){e.key&&"cartHasItems"===e.key&&e.oldValue!==e.newValue&&o(e.newValue)}),[]);return Object(a.useEffect)((function(){return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}}),[r]),Object(d.jsx)("header",{id:"header",className:"htc-header header--3 bg__white",children:Object(d.jsx)("div",{id:"sticky-header-with-topbar",className:"mainmenu__area sticky__header",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-2 col-lg-2 col-sm-3 col-xs-3",children:Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)(l.b,{className:"",to:"/",children:Object(d.jsx)("img",{src:window.location.origin+"/images/logo/tiptiptop_logo.png",alt:"logo",style:{height:"80px",maxHeight:"100%"}})})})}),Object(d.jsx)("div",{className:"col-md-8 col-lg-8 col-sm-6 col-xs-6",children:Object(d.jsx)("nav",{className:"mainmenu__nav hidden-xs hidden-sm",children:Object(d.jsx)("ul",{className:"main__menu",children:Object(d.jsx)("li",{className:"drop"})})})}),Object(d.jsx)("div",{className:"col-md-2 col-sm-4 col-xs-3",children:Object(d.jsx)("ul",{className:"menu-extra",children:Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{style:h(t,"/auth"),to:"/auth",children:Object(d.jsx)("span",{className:"ti-user"})})})})})]}),Object(d.jsx)("div",{className:"mobile-menu-area"})]})})})})),p=c(192),x=function(e){var t=e.product,c=e.delCallback,n=e.editCallback,s=Object(a.useState)(0),o=Object(m.a)(s,2),l=o[0],i=o[1],j=Object(a.useState)(""),b=Object(m.a)(j,2),u=b[0],h=b[1],O=Object(r.useIndexedDB)("cart").update;Object(a.useEffect)((function(){return i(t.qty)}),[t.qty]),Object(a.useEffect)((function(){return h(t.size)}),[t.size]);var x=function(e){var c=e.target.value;t.size=c,O(t).then((function(){h(c),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){console.log(e)}))};return Object(d.jsxs)("div",{className:"checkout-single-product",children:[Object(d.jsxs)("div",{className:"shp__pro__thumb",children:[Object(d.jsx)("a",{href:t.category?"/design/".concat(t.productType,"/edit/").concat(t.id,"/print/").concat(t.category.printingType._id):"#",className:"product-img-link"}),Object(d.jsx)("img",{src:t.image,alt:"product images",className:"image-product-cart"})]}),Object(d.jsxs)("div",{className:"shp__pro__details",style:{zIndex:100},children:[Object(d.jsx)("a",{href:t.category?"/design/".concat(t.productType,"/edit/").concat(t.id,"/print/").concat(t.category.printingType._id):"#",className:"checkout-name",children:t.name}),Object(d.jsxs)("div",{className:"row",style:{marginTop:5},children:[Object(d.jsxs)("div",{className:"col-sm-6",style:{display:"flex"},children:[Object(d.jsx)("span",{className:"quantity",children:"Quantity: "}),Object(d.jsx)("input",{className:"inline-product-qty",type:"number",value:l,onChange:function(e){var c=e.target.value;c>0&&(i(c),n&&n(t,c,"qty"))}})]}),Object(d.jsxs)("div",{className:"col-sm-6",style:{display:"flex"},children:[Object(d.jsx)("span",{className:"quantity",children:"Size: "}),function(){var e=p.a((function(e){return!0===e}),t.availableSizes);return Object(d.jsx)("select",{className:"select-size",onChange:x,value:u,children:e&&Object.keys(e).map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})}()]})]}),Object(d.jsx)("div",{className:"row",style:{marginTop:5},children:Object(d.jsxs)("div",{className:"col-sm-6",style:{display:"flex"},children:[Object(d.jsx)("span",{className:"quantity",children:"Price: "}),Object(d.jsxs)("span",{className:"shp__price",style:{marginLeft:5,fontWeight:500},children:["$",t.price]})]})})]}),Object(d.jsx)("div",{className:"remove__btn",children:Object(d.jsx)("button",{className:"link-button",title:"Remove this item",onClick:function(){c(t.id)},children:Object(d.jsx)("i",{className:"zmdi zmdi-close"})})})]})},g=function(){var e=Object(a.useState)(),t=Object(m.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),o=Object(m.a)(s,2),l=o[0],i=o[1],j=Object(a.useState)(localStorage.getItem("cartLastUpdate")),u=Object(m.a)(j,2),h=u[0],O=u[1],p=Object(r.useIndexedDB)("cart"),g=p.getAll,f=p.update,v=p.deleteRecord,N=Object(a.useCallback)((function(e){console.log("SideCart@onLocalStorageChange"),e.key&&"cartLastUpdate"===e.key&&e.oldValue!==e.newValue&&S()}),[]),y=Object(a.useCallback)((function(e){if(console.log("siteCart@onMessageReceived()"),"updateCart"===e.data&&e.origin===b.HOME_URL){var t=localStorage.getItem("cartLastUpdate");null!==t&&t!==h&&setTimeout((function(){S(),O(t)}),750)}else{if(e.origin!==b.BASE_FPD_URL)return;setTimeout((function(){S()}),750)}}),[]),w=Object(a.useCallback)((function(e){console.log("onDeleteProduct "+e),e&&v(e).then((function(e){console.log("Deleted product form cart!"),S(),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){console.log(e)}))}),[]),_=Object(a.useCallback)((function(e,t,c){console.log("onEditProduct "+e.id),e[c]=t,f(e).then((function(){console.log("Product Updated successfully!."),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now()),S()}),(function(e){console.log(e)}))}));Object(a.useEffect)((function(){return S()}),[]),Object(a.useEffect)((function(){return window.addEventListener("message",y),function(){return window.removeEventListener("message",y)}}),[y]),Object(a.useEffect)((function(){return window.addEventListener("storage",N),function(){return window.removeEventListener("storage",N)}}),[N]);var S=function(){g().then((function(e){for(var t=0,c=0;c<e.length;c++)t+=e[c].price*e[c].qty;n(e),i(t),localStorage.setItem("cartHasItems",e.length>0)}),(function(e){console.log(e)}))};return Object(d.jsx)("div",{className:"shopping__cart",children:Object(d.jsxs)("div",{className:"shopping__cart__inner",children:[Object(d.jsx)("div",{className:"offsetmenu__close__btn",children:Object(d.jsx)("button",{className:"link-button",children:Object(d.jsx)("i",{className:"zmdi zmdi-close"})})}),Object(d.jsx)("div",{className:"our-important-note",children:c&&c.length>0?c.map((function(e){return e.id,e.name,e.qty,e.productType,e.price,e.image,Object(d.jsx)("div",{className:"checkout__cart__wrap",style:{borderColor:"#ddd"},children:Object(d.jsx)(x,{product:e,editCallback:_,delCallback:w})},e.id)})):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{style:{paddingTop:22,paddingBottom:22},children:Object(d.jsxs)("li",{style:{fontSize:18,textAlign:"center"},children:["Cart is empty ",Object(d.jsx)("span",{className:"ti-face-sad"}),"!"]})}),Object(d.jsx)("ul",{className:"shopping__btn",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/screen-printing/traditional",children:"Go to Shop"})})})]})}),c&&c.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("ul",{className:"shoping__total",children:[Object(d.jsx)("li",{className:"subtotal",children:"Subtotal:"}),Object(d.jsxs)("li",{className:"total__price",children:["$",l.toFixed(2)]})]}),Object(d.jsxs)("ul",{className:"shopping__btn",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/cart",children:"View Cart"})}),Object(d.jsx)("li",{className:"shp__checkout",children:Object(d.jsx)("a",{href:"/checkout",children:"Checkout"})})]})]}):null]})})},f=function(e){Object(a.useEffect)((function(){var t=document.createElement("script");return t.src=e,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])},v=function(e){e.title,e.description;var t=e.currentPage,c=void 0===t?"Current":t,a=e.className,n=e.children,s=e.showBreadcrumb,o=void 0===s||s;return f(window.location.origin+"/js/main.js"),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{}),console.log("children",n),o&&Object(d.jsx)(j,{currentPage:c}),Object(d.jsxs)("div",{className:a,children:[Object(d.jsx)("div",{className:"body__overlay"}),Object(d.jsx)("div",{className:"offset__wrapper",children:Object(d.jsx)(g,{})}),n]}),Object(d.jsx)(u,{})]})},N=c(10),y=c(3),w=function(e){return fetch("".concat(b.API,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},_=function(e,t){"undefined"!==typeof window&&(e.token||(e.token=JSON.parse(localStorage.getItem("jwt")).token),localStorage.setItem("jwt",JSON.stringify(e)),t())},S=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},C=function(e){"undefined"!==typeof window&&(localStorage.removeItem("jwt"),e())},k=function(){var e=Object(a.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(m.a)(e,2),c=t[0],n=t[1],s=c.email,o=c.password,r=c.error,l=c.loading,j=c.redirectToReferrer,b=S(),u=b.user,h=function(e){return function(t){n(Object(y.a)(Object(y.a)({},c),{},Object(N.a)({error:!1},e,t.target.value)))}},O=function(){return j?u&&0==u.isConfirmed?Object(d.jsx)(i.a,{to:"/user/confirm"}):u&&"admin"===u.role&&u.isConfirmed||u&&"worker"===u.role&&u.isConfirmed?Object(d.jsx)(i.a,{to:"/main"}):Object(d.jsx)(i.a,{to:"/user/dashboard"}):S()?u&&0==u.isConfirmed?Object(d.jsx)(i.a,{to:"/user/confirm"}):u&&"admin"===u.role&&u.isConfirmed?Object(d.jsx)(i.a,{to:"/admin/dashboard/user-information"}):(u&&"worker"===u.role&&u.isConfirmed,Object(d.jsx)(i.a,{to:"/user/dashboard"})):void 0},p=function(e){e.preventDefault(),n(Object(y.a)(Object(y.a)({},c),{},{error:!1,loading:!0})),w({email:s,password:o}).then((function(e){console.log("data resultante signin",e),e.error?n(Object(y.a)(Object(y.a)({},c),{},{error:e.error.description,loading:!1})):_(e,(function(){n(Object(y.a)(Object(y.a)({},c),{},{redirectToReferrer:!0}))}))}))},x=function(){return l&&Object(d.jsx)("div",{className:"alert alert-info",children:"Loading..."})},g=function(){return Object(d.jsx)("div",{className:"alert alert-danger",style:{display:r?"":"none"},children:r})},f=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"login",method:"post",children:[Object(d.jsx)("input",{type:"email",placeholder:"Email*",onChange:h("email"),value:s}),Object(d.jsx)("input",{type:"password",placeholder:"Password*",onChange:h("password"),value:o})]}),Object(d.jsxs)("div",{className:"tabs__checkbox",children:[x(),g()]}),Object(d.jsx)("div",{className:"tabs__checkbox",children:Object(d.jsx)("span",{className:"forget",children:Object(d.jsx)("a",{href:"javascript:void(0)",children:"Forget Pasword?"})})}),Object(d.jsx)("div",{className:"htc__login__btn mt--30",children:Object(d.jsx)("button",{onClick:p,children:"Login"})}),Object(d.jsx)("div",{children:Object(d.jsx)("br",{})})]})};return Object(d.jsxs)("div",{children:[f(),O()]})},I=function(){return Object(d.jsx)(v,{title:"Signin Page",description:"Ecommerce",currentPage:"Login & Register",showBreadcrumb:!1,children:Object(d.jsx)("div",{className:"htc__login__register bg__white ptb--90",children:Object(d.jsxs)("div",{className:"container boxlogin",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{children:Object(d.jsx)("br",{})}),Object(d.jsx)("div",{className:"col-md-6 col-md-offset-3",children:Object(d.jsx)("ul",{className:"login__register__menu",role:"tablist",children:Object(d.jsx)("li",{role:"presentation",className:"login active",children:Object(d.jsx)("a",{href:"#login",role:"tab","data-toggle":"tab",children:"Login"})})})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-6 col-md-offset-3",children:Object(d.jsx)("div",{className:"htc__login__register__wrap",children:Object(d.jsx)("div",{id:"login",role:"tabpanel",className:"single__tabs__panel tab-pane active",children:Object(d.jsx)(k,{})})})})})]})})})},E=function(){return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(a.Fragment,{children:Object(d.jsx)("div",{className:"slider__container",children:Object(d.jsx)("div",{className:"slider__activation__wrap owl-carousel owl-theme",children:Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12 col-xs-12",children:Object(d.jsxs)("div",{className:"slider__inner",children:[Object(d.jsxs)("h1",{children:[Object(d.jsx)("div",{style:{color:"black"},children:"Tip Tip"}),Object(d.jsx)("span",{className:"text--theme",children:" Top"})]}),Object(d.jsx)("div",{className:"slider__btn",children:Object(d.jsx)("a",{className:"htc__btn",href:"javascript:void(0)",children:Object(d.jsx)("div",{style:{color:"black"},children:"The easiest way to tip and save cash in your pocket"})})})]})})})})})})})})})},P=c(80),T=c.n(P),A=c(81),F=c.n(A),L=c(82),D=c.n(L),R=c(13),M=c.n(R),B=c(27),U=c.n(B),z=function(e){var t=e.success,c=e.onSuccess,n=e.error,s=e.onError,o=function(e){e.preventDefault(),s(!1),c&&c(!1)};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsxs)("div",{className:"alert alert-info col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:t?"":"none"},children:[Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:o,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),t]}),Object(d.jsxs)("div",{className:"alert alert-danger col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:n?"":"none"},children:[n,Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:o,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})},H=c(15),V=c(86),q=c.n(V),W=(c(166),function(e){var t=e?"".concat(b.API,"/categories?printingType=").concat(e):"".concat(b.API,"/categories");return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}),G=function(e){var t=e?"".concat(b.API,"/products?printingType=").concat(e):"".concat(b.API,"/products");return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},J=function(e){var t="".concat(b.API,"/rating/products/").concat(e);return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},Y=function(e,t){return fetch("".concat(b.API,"/rating"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":e},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},$=function(e,t,c){return fetch("".concat(b.API,"/users/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},Z=function(e,t){return fetch("".concat(b.API,"/users/").concat(e),{method:"GET",headers:{Accept:"application/json","x-access-token":t}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},K=function(e){var t=e.printingTypeId,c=Object(a.useState)(!0),s=Object(m.a)(c,2),o=s[0],r=s[1],i=Object(a.useState)(0),j=Object(m.a)(i,2),u=j[0],h=j[1],O=Object(a.useState)(null),p=Object(m.a)(O,2),x=p[0],g=p[1],f=Object(a.useState)("*"),v=Object(m.a)(f,2),N=v[0],y=v[1],w=Object(a.useState)(""),_=Object(m.a)(w,2),C=_[0],k=_[1],I=Object(a.useState)(""),E=Object(m.a)(I,2),P=E[0],A=E[1],L=Object(a.useState)(""),R=Object(m.a)(L,2),B=R[0],V=R[1],Y=Object(a.useState)(""),$=Object(m.a)(Y,2),Z=$[0],K=$[1],X=Object(a.useState)({}),Q=Object(m.a)(X,2),ee=Q[0],te=Q[1],ce=Object(a.useState)("*"),ae=Object(m.a)(ce,2),ne=ae[0],se=ae[1],oe=Object(a.useState)(""),re=Object(m.a)(oe,2),le=re[0],ie=(re[1],Object(a.useState)("")),de=Object(m.a)(ie,2),je=de[0],be=(de[1],n.a.createRef()),ue=S(),me=ue.user,he=ue.token,Oe=Object(a.useState)("all"),pe=Object(m.a)(Oe,2),xe=pe[0],ge=pe[1],fe=Object(a.useState)(""),ve=Object(m.a)(fe,2),Ne=ve[0],ye=ve[1],we=Object(a.useState)(!1),_e=Object(m.a)(we,2),Se=_e[0],Ce=_e[1],ke=Object(a.useState)(!1),Ie=Object(m.a)(ke,2),Ee=Ie[0],Pe=Ie[1],Te=[{name:"Order Number",width:"220px",cell:function(e){return Object(d.jsx)("div",{children:e._id})}},{name:"Status",selector:"status",sortable:!0,cell:function(e){return function(e){var t="#18cc1b",c="";switch(e){case"open":c="Open";break;case"pending_payment":c="Pending for Payment",t="#f77700";break;case"completed":c="Completed",t="#0d7c0f";break;case"canceled":c="Canceled",t="#e50909"}return Object(d.jsx)("div",{children:Object(d.jsx)("span",{style:{color:t,fontWeight:500},children:c})})}(e.status)}},{name:"Is Paid",width:"100px",selector:"is_paid",sortable:!0,cell:function(e){return e.is_paid?Object(d.jsx)("div",{children:"Paid"}):Object(d.jsx)("div",{children:"Not Paid"})}},{name:"Order Date",selector:"order_date",sortable:!0,cell:function(e){return Object(d.jsx)("div",{children:U()(e.order_date).format("DD-MM-YYYY hh:mm A")})}},{name:"Order Total",selector:"order_total",sortable:!0,cell:function(e){return Object(d.jsxs)("div",{children:["$",e.order_total.toFixed(2)]})}}];Object(a.useEffect)((function(){if(Z){var e=Z.filter((function(e){return e.status===xe||"all"===xe}));ye(e)}}),[xe,Z]),Object(a.useEffect)((function(){W(t).then((function(e){e.error||k(e)})),me&&"admin"==me.role&&G(t).then((function(e){e.error||A(e)})),me&&"worker"==me.role&&function(e){var t="".concat(b.API,"/products/login/").concat(e);return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(me._id).then((function(e){e.error||A(e)})),void 0==me&&r(!1)}),[t]),Object(a.useEffect)((function(){P&&g(new F.a(".product__list",{itemSelector:".single__pro",percentPosition:!0,transitionDuration:"0.5s",masonry:{columnWidth:".single__pro"}}))}),[P]),Object(a.useEffect)((function(){x&&("*"===N?x.arrange({filter:"*"}):x.arrange({filter:".".concat(N)}),h(x.filteredItems.length))}),[x,N]),Object(a.useEffect)((function(){var e;0!==Object.entries(ee).length&&(Fe(ee),J(ee._id).then((function(e){e.error||V(e)})),(e=ee._id,fetch("".concat(b.API,"/orders/products/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error||(console.log("selectdProduct:",ee._id,"OrdersByWorker1111:",e.orders),K(e.orders))})))}),[ee]),T()(".product__list",(function(){x&&(x.layout(),r(!1))}));var Ae=function(e){(function(e,t,c){return fetch("".concat(b.API,"/rating/products/").concat(t,"/user/").concat(c),{method:"DELETE",headers:{Accept:"application/json","x-access-token":e}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(he,e.product,e.user._id).then((function(e){console.log("removed DATA",e),e.error||J(ee._id).then((function(e){e.error||V(e)}))}))},Fe=function(e){var t=Math.floor(e.rateValue/e.rateCount),c=5-t;e.starArray=[],e.diffStarArray=[];for(var a=0;a<t;a++)e.starArray.push(a);for(var n=0;n<c;n++)e.diffStarArray.push(n)},Le=function(e){if(e&&0!=e.rating){var t=Math.floor(e.rating),c=5-t;e.starArray=[],e.diffStarArray=[];for(var a=0;a<t;a++)e.starArray.push(a);for(var n=0;n<c;n++)e.diffStarArray.push(n);return Object(d.jsxs)("span",{children:[e&&e.starArray.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)("span",{className:"zmdi zmdi-star",style:{color:"#f8cd35"}})})})),e&&e.diffStarArray.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)("span",{className:"ti-star",style:{color:"#f8cd35"}})})}))]})}};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("section",{className:"htc__product__area shop__page bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"htc__product__container",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"product__menu gutter-btn text-center",children:[Object(d.jsx)("button",{className:"*"===ne?"is-checked":null,onClick:function(){y("*"),se("*")},children:"All"}),C&&C.map((function(e,t){return Object(d.jsx)("button",{className:ne===t?"is-checked":null,onClick:function(){y(e.name.replace(/\s/g,"")),se(t)},children:e.name},t)}))]})}),Object(d.jsxs)("div",{className:"row product__list another-product-style",children:[o?Object(d.jsx)("div",{className:"row mt--60 text-center",children:Object(d.jsx)("img",{src:window.location.origin+"/images/icons/ajax-loader.gif",alt:"loading"})}):"",x&&0===u?Object(d.jsx)("div",{className:"row mt--60 mb--60 text-center",children:Object(d.jsx)("span",{children:"No products to show in this category"})}):"",P&&P.map((function(e,t){return Object(d.jsx)("div",{className:"".concat(e.category.name.replace(/\s/g,"")," single__pro col-lg-4 col-xl-4 col-md-4 col-sm-6 col-12"),children:Object(d.jsxs)("div",{className:"product",style:{marginTop:25},children:[Object(d.jsx)("div",{className:"product__inner",children:Object(d.jsx)("div",{className:"pro__thumb",children:Object(d.jsx)("a",{href:"#!","data-toggle":"modal","data-target":"#productModal",className:"text-center",onClick:function(){te(e)},children:Object(d.jsx)("img",{src:"".concat(b.API,"/").concat(e.imageURL),onError:function(e){e.target.onerror=null},alt:"Product Image",style:{maxHeight:"120px",maxWidth:"120px",height:"100px",width:"100px"}})})})}),Object(d.jsx)("div",{className:"product__details",style:{paddingTop:5},children:Object(d.jsx)("h2",{style:{fontSize:16},children:Object(d.jsx)("a",{href:"#!","data-toggle":"modal","data-target":"#productModal",children:e.name})})})]})},t)}))]}),Object(d.jsx)("div",{className:"row mt--60"})]})})}),Object(d.jsx)("div",{id:"quickview-wrapper",children:Object(d.jsx)("div",{className:"modal fade",id:"productModal",tabIndex:"-1",role:"dialog",children:Object(d.jsx)("div",{className:"modal-dialog modal__container",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"Product Information"})]}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"modal-product",children:[Object(d.jsxs)("div",{className:"product-images",children:[Object(d.jsx)("img",{src:"".concat(b.API,"/").concat(ee.imageURL),onError:function(e){e.target.onerror=null},alt:"Product Image",style:{maxHeight:"300px",maxWidth:"300px"}}),Object(d.jsx)(D.a,{value:"http://52.90.192.153//checkout?worker=".concat(ee._id),size:"79"})]}),Object(d.jsxs)("div",{className:"product-info",children:[Object(d.jsx)("h1",{children:ee.name}),Object(d.jsxs)("div",{className:"rating__and__review",children:[ee.rateCount>0&&Object(d.jsxs)("ul",{className:"rating",children:[ee.starArray&&ee.starArray.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)("span",{className:"zmdi zmdi-star",style:{color:"#f8cd35"}})})})),ee.diffStarArray&&ee.diffStarArray.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)("span",{className:"ti-star",style:{color:"#f8cd35"}})})}))]}),Object(d.jsxs)("div",{className:"reviews",children:[ee.rateCount," customer reviews"]})]}),Object(d.jsxs)("div",{className:"s-price-box",children:["Category",Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:ee.category&&ee.category.name})," "]})]}),Object(d.jsx)(l.c,{ref:be,to:{pathname:"/design/".concat(ee._id),state:{selectedColor:le,selectedSize:je,selectedProduct:ee,simom:123}}})]})]})}),Object(d.jsx)("div",{className:"wrapper",style:{marginTop:"4%"},children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",style:{overflow:"hidden",marginTop:"20px",width:"96.3%"},children:Object(d.jsxs)(H.d,{children:[Object(d.jsxs)(H.b,{children:[Object(d.jsx)(H.a,{children:"Description"}),Object(d.jsx)(H.a,{children:"Reviews"}),Object(d.jsx)(H.a,{children:"My Tip History"})]}),Object(d.jsx)(H.c,{className:"ck-editor",children:Object(d.jsx)("div",{className:"wrapper",style:{marginTop:"0%"},children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",style:{minHeight:"25px",marginLeft:"5px",marginBottom:"30px",width:"92%",overflow:"auto"},children:ee.descr?q()(ee.descr):"There is no description to display"})})})})}),Object(d.jsx)(H.c,{children:Object(d.jsx)("div",{className:"wrapper",style:{marginTop:"0%"},children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",style:{minHeight:"25px",overflow:"auto",marginLeft:"5px",marginRight:"20px",width:"92%"},children:[B&&0===B.length&&Object(d.jsx)("div",{style:{marginBottom:"30px"},children:"There is no reviews to display"}),B&&B.map((function(e,t){return Object(d.jsx)("div",{className:"testimonial-3-wrapper mb--30",children:Object(d.jsxs)("div",{className:"testimonial-3-content",children:[Object(d.jsxs)("div",{className:"testimonial-3-name",children:[Object(d.jsxs)("div",{children:[console.log("RATINGS//////",e),Object(d.jsx)("span",{style:{fontSize:22,fontWeight:600,marginBottom:"5px",textTransform:"capitalize",color:"#5c5c5c"},children:e.user?e.user.name:""}),me&&"admin"==me.role&&Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return Ae(e)},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(d.jsx)("div",{className:"rating__and__review",children:Object(d.jsx)("ul",{className:"rating",children:Le(e)})})]}),Object(d.jsx)("p",{style:{color:"#8f8f8f",fontSize:"15px",fontWeight:400,marginBottom:"0px"},children:Object(d.jsxs)("div",{children:[1==e.review[0].dish&&Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{src:window.location.origin+"/images/logo/dish_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{children:"Dish"})]}),1==e.review[0].atmosphere&&Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{src:window.location.origin+"/images/logo/atmosphere_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{children:"Atmos"})]}),1==e.review[0].tasty&&Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{src:window.location.origin+"/images/logo/tasty_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{children:"Tasty"})]}),1==e.review[0].goodService&&Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{src:window.location.origin+"/images/logo/service_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{children:"Good"})]}),Object(d.jsx)("span",{children:"\xa0"})]})})]})},t)}))]})})})})}),Object(d.jsx)(H.c,{className:"ck-editor",children:Object(d.jsx)("div",{className:"wrapper",style:{marginTop:"0%"},children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",style:{minHeight:"25px",marginLeft:"5px",marginBottom:"30px",width:"92%",overflow:"auto"},children:[""==Z&&Object(d.jsx)("div",{style:{marginBottom:"30px"},children:"There is no reviews to display"}),console.log("ordersByWorkers:::",Z.length),console.log("ordersByWorkers:::",Z),""!==Z&&Object(d.jsx)("div",{className:"testimonial-3-wrapper mb--30",children:Object(d.jsxs)("div",{className:"testimonial-3-content",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:Se,success:Ee,onError:function(e){Ce(e)},onSuccess:function(e){Pe(e)}})}),Object(d.jsx)(M.a,{columns:Te,data:Ne,pagination:!0,highlightOnHover:!0,pointerOnHover:!0,subHeader:!0,subHeaderComponent:[Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("label",{for:"filterByStatus",children:"Filter by Status: "}),Object(d.jsxs)("select",{name:"filterByStatus",className:"form-control",defaultValue:xe,onChange:function(e){return ge(e.target.value)},children:[Object(d.jsx)("option",{value:"all",children:"All"}),Object(d.jsx)("option",{value:"pending_payment",children:"Pending for Payment"}),Object(d.jsx)("option",{value:"open",children:"Open"}),Object(d.jsx)("option",{value:"completed",children:"Completed"}),Object(d.jsx)("option",{value:"canceled",children:"Canceled"})]})]})})]})]})})]})})})})})]})})})})})]})})})})]})},X=function(){return Object(d.jsx)(v,{title:"Workers Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"5ee5a2c62055cc54dc5ecf4a"})})},Q=function(){return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"5ee5a2ee2055cc54dc5ecf4b"})})},ee=function(){return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"5ee5a2f62055cc54dc5ecf4c"})})},te=function(){return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"5ee5a3002055cc54dc5ecf4d"})})},ce=function(){return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"5ee5a3132055cc54dc5ecf4e"})})},ae=function(){return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:Object(d.jsx)(K,{printingTypeId:"606dd5141d92c0793269d682"})})},ne=c(32),se=c(193),oe=function(e){var t=Object(a.useState)(!1),c=Object(m.a)(t,2),n=c[0],s=c[1],o=Object(a.useState)(""),l=Object(m.a)(o,2),j=l[0],u=l[1],h=Object(r.useIndexedDB)("cart"),O=h.add,p=h.getByID,x=h.update,g=Object(i.g)(),f=g.productId,N=g.editProductId,y=g.printingType,w=Object(a.useCallback)((function(e){if(e.origin===b.BASE_FPD_URL&&e&&e.data)if("editProduct"===e.data)_(e);else{var t=JSON.parse(e.data);t.isEditing&&!0===t.isEditing&&N?S(t):C(t)}}),[]);Object(a.useEffect)((function(){return window.addEventListener("message",w),function(){return window.removeEventListener("message",w)}}),[w]);var _=function(e){N&&p(N).then((function(t){null===t||void 0===t||void 0===t.product||null===t.product?(s(!0),u("The product that you are trying to edit was not found.")):e.source.postMessage(JSON.stringify(t.product),e.origin)}),(function(e){s(!0),u("Something went wrong. Please, try again."),console.log(e)}))},S=function(e){N&&p(N).then((function(t){if(null===t||void 0===t||void 0===t.product||null===t.product)s(!0),u("The product that you are trying to edit was not found.");else{var c={id:t.id,guid:Object(se.a)(),name:t.name,size:t.size,productType:t.productType,price:t.price,qty:t.qty,weight:t.weight,description:t.description,image:e.image,product:e.product};x(c).then((function(){console.log("Design Updated successfully!."),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){s(!0),u("Something went wrong. Please, try again."),console.log(e)}))}}),(function(e){s(!0),u("Something went wrong. Please, try again."),console.log(e)}))},C=function(t){var c="",a="",n=0,o=0,r="",l="",i={},d="";e&&e.location&&e.location.state&&e.location.state.selectedProduct&&(c=e.location.state.selectedSize,a=e.location.state.selectedProduct.name,n=e.location.state.selectedProduct.price,o=e.location.state.selectedProduct.weight,r=e.location.state.selectedProduct.descr,i=e.location.state.selectedProduct.sizeList,l=e.location.state.selectedColor,d=e.location.state.selectedProduct.category);var j={guid:Object(se.a)(),name:a,price:n,productType:f,qty:1,weight:o,size:c,description:r,image:t.image,product:t.product,color:l,category:d,availableSizes:i};O(j).then((function(e){console.log("Product added to the cart! "+e),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){s(!0),u("Something went wrong. Please, try again."),console.log(e)}))};return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:function(){var t=!!(e&&e.location&&e.location.state&&e.location.state.selectedProduct&&e.location.state.selectedProduct.category&&"606dd5141d92c0793269d682"==e.location.state.selectedProduct.category.printingType._id);t=!(!y||"606dd5141d92c0793269d682"!=y)||t;var c="default";return e&&e.location&&e.location.state&&e.location.state.selectedColor&&(c=e.location.state.selectedColor),!1===n?Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(ne.a,{url:b.FPD_URL+"".concat(t?"m/":"/")+"".concat(N?1:0,"/").concat(f,"/").concat(c),styles:{border:"none",height:"600px"},width:"100%",height:"800px",frameBorder:"0",id:"myId",className:"myClassname",allowFullScreen:!0,display:"initial",position:"relative"})}):Object(d.jsx)("div",{className:"htc__login__register bg__white ptb--90",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-xs-12",children:Object(d.jsx)("div",{className:"bradcaump__inner text-center",children:Object(d.jsx)("h2",{children:j})})})})})})}()})},re=c(91),le=function(e){var t=e.component,c=e.adminRole,a=Object(re.a)(e,["component","adminRole"]);return Object(d.jsx)(i.b,Object(y.a)(Object(y.a)({},a),{},{render:function(e){return S()&&(c&&"admin"===S().user.role||!c)?Object(d.jsx)(t,Object(y.a)({},e)):Object(d.jsx)(i.a,{to:{pathname:"/auth",state:{from:e.location}}})}}))},ie=function(e,t){return e.location.pathname===t?"active":""},de=Object(i.h)((function(e){var t=e.history;return Object(d.jsx)("section",{className:"htc__product__area shop__page bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"htc__product__container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"product__menu gutter-btn text-center",children:Object(d.jsx)("span",{className:"is-checked",children:Object(d.jsx)(l.b,{className:ie(t,"/admin/dashboard/user-information"),to:"/admin/dashboard/user-information",children:"USER INFORMATION"})})})})})})})})),je=function(e){var t=e.history,c=S(),n=c.user,s=c.token,o=Object(a.useState)(n.email),r=Object(m.a)(o,2),l=r[0],i=(r[1],Object(a.useState)(n.name)),j=Object(m.a)(i,2),b=j[0],u=j[1],h=Object(a.useState)(n.phoneNumber),O=Object(m.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(!1),f=Object(m.a)(g,2),w=f[0],k=f[1],I=Object(a.useState)(!1),E=Object(m.a)(I,2),P=E[0],T=E[1],A=Object(a.useState)(!1),F=Object(m.a)(A,2),L=F[0],D=F[1],R=Object(a.useState)(!1),M=Object(m.a)(R,2),B=M[0],U=M[1],z=Object(a.useState)(""),H=Object(m.a)(z,2),V=H[0],q=H[1],W=Object(a.useState)(""),G=Object(m.a)(W,2),J=G[0],Y=G[1],K=Object(a.useState)(""),X=Object(m.a)(K,2),Q=X[0],ee=X[1],te=Object(a.useState)(""),ce=Object(m.a)(te,2),ae=ce[0],ne=ce[1],se=Object(a.useState)(0),oe=Object(m.a)(se,2),re=oe[0],le=oe[1],ie=Object(a.useState)(0),je=Object(m.a)(ie,2),be=je[0],ue=je[1];Object(a.useEffect)((function(){Z(n._id,s).then((function(e){e.error?k(e.error):(e.street&&q(e.street),e.suite&&Y(e.suite),e.city&&ee(e.city),e.postalCode&&ne(e.postalCode),e.country&&le(e.country),e.state&&ue(e.state),localStorage.setItem("currentUser",JSON.stringify(e)),x(""!==e.phoneNumber?e.phoneNumber:n.phoneNumber))}))}),[n,s]),Object(a.useEffect)((function(){k(!1),T(!1)}),[b,p]),Object(a.useEffect)((function(){D(!1),U(!1)}),[V,J,Q,ae,re,be]);var me=function(e){e.preventDefault(),k(!1),T(!1)},he=function(e){e.preventDefault(),localStorage.removeItem("currentUser"),C((function(){return t.push("/")}))},Oe=function(e){e.preventDefault(),b?$(n._id,s,{name:b,phoneNumber:p}).then((function(e){e.error?k(e.error.description):_({user:Object(y.a)({},e)},(function(){T("User Updated")}))})):k("User Name can't be empty")},pe=function(e){return Object(d.jsxs)("div",{className:"alert alert-danger col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:e?"":"none"},children:[e,Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:me,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},xe=function(e){return Object(d.jsxs)("div",{className:"alert alert-info col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:e?"":"none"},children:[Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:me,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),e]})};return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Worker Dashboard",children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsxs)("div",{className:"row",children:[xe(P),pe(w)]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(de,{}),Object(d.jsx)("div",{children:Object(d.jsx)("br",{})}),Object(d.jsx)("div",{className:"col-md-8 col-lg-8",children:Object(d.jsxs)("div",{className:"ckeckout-left-sidebar",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"checkout-form",children:[Object(d.jsx)("div",{className:"col-xs-12 pb--20",children:Object(d.jsx)("h2",{className:"pasadena-section-title-3",children:"User Information"})}),Object(d.jsx)("div",{className:"pasadena-checkout-form-inner",children:Object(d.jsxs)("div",{className:"pasadena-single-box",children:[Object(d.jsxs)("div",{className:"form-row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"name",placeholder:"Enter your name",onChange:function(e){u(e.target.value)},value:b,disabled:!0})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"email",className:"normal-label",children:"Email"}),Object(d.jsx)("input",Object(N.a)({disabled:"disabled",type:"email",className:"form-control ",id:"email",placeholder:"Enter your email",value:l},"disabled",!0))]})]}),Object(d.jsx)("div",{className:"form-row",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"phone_number",className:"normal-label",children:"Phone Number"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"phone_number",placeholder:"Enter your phone number",onChange:function(e){x(e.target.value)},value:p})]})})]})})]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6",children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:he,children:"Signout"})}),Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6 text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark",onClick:Oe,children:"Save"})})]})]})})]}),xe(B),pe(L)]})})},be=function(e){var t=e.history,c=S(),n=c.user,s=c.token,o=Object(a.useState)(n.email),r=Object(m.a)(o,2),l=(r[0],r[1],Object(a.useState)(n.name)),i=Object(m.a)(l,2),j=i[0],b=i[1],u=Object(a.useState)(""),h=Object(m.a)(u,2),O=h[0],p=h[1],x=Object(a.useState)(""),g=Object(m.a)(x,2),f=(g[0],g[1],Object(a.useState)(n.phoneNumber)),N=Object(m.a)(f,2),w=N[0],k=N[1],I=Object(a.useState)(!1),E=Object(m.a)(I,2),P=E[0],T=E[1],A=Object(a.useState)(!1),F=Object(m.a)(A,2),L=F[0],D=F[1],R=Object(a.useState)(!1),M=Object(m.a)(R,2),B=M[0],U=M[1],z=Object(a.useState)(!1),H=Object(m.a)(z,2),V=H[0],q=H[1],W=Object(a.useState)(""),G=Object(m.a)(W,2),J=G[0],Y=G[1],K=Object(a.useState)(""),X=Object(m.a)(K,2),Q=X[0],ee=X[1],te=Object(a.useState)(""),ce=Object(m.a)(te,2),ae=ce[0],ne=ce[1],se=Object(a.useState)(""),oe=Object(m.a)(se,2),re=oe[0],le=oe[1],ie=Object(a.useState)(0),de=Object(m.a)(ie,2),je=de[0],be=de[1],ue=Object(a.useState)(0),me=Object(m.a)(ue,2),he=me[0],Oe=me[1];Object(a.useEffect)((function(){Z(n._id,s).then((function(e){e.error?T(e.error):(e.street&&Y(e.street),e.suite&&ee(e.suite),e.city&&ne(e.city),e.postalCode&&le(e.postalCode),e.country&&be(e.country),e.state&&Oe(e.state),localStorage.setItem("currentUser",JSON.stringify(e)),k(""!==e.phoneNumber?e.phoneNumber:n.phoneNumber))}))}),[n,s]),Object(a.useEffect)((function(){T(!1),D(!1)}),[j,w]),Object(a.useEffect)((function(){U(!1),q(!1)}),[J,Q,ae,re,je,he]);var pe=function(e){e.preventDefault(),T(!1),D(!1)},xe=function(e){e.preventDefault(),localStorage.removeItem("currentUser"),C((function(){return t.push("/")}))},ge=function(e){if(e.preventDefault(),j){$(n._id,s,{name:j,phoneNumber:w,password:O,isConfirmed:!0}).then((function(e){e.error?T(e.error.description):_({user:Object(y.a)({},e)},(function(){D("User Updated")}))}))}else T("User Name can't be empty")},fe=function(e){return Object(d.jsxs)("div",{className:"alert alert-danger col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:e?"":"none"},children:[e,Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:pe,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},ve=function(e){return Object(d.jsxs)("div",{className:"alert alert-info col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:e?"":"none"},children:[Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:pe,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),e]})};return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!1,currentPage:"My Account - Security",children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsxs)("div",{className:"row",children:[ve(L),fe(P)]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-8 col-lg-8",children:Object(d.jsxs)("div",{className:"ckeckout-left-sidebar",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"checkout-form",children:[Object(d.jsx)("div",{className:"col-xs-12 pb--20",children:Object(d.jsx)("h2",{className:"pasadena-section-title-3",children:"User Information - Modify Password"})}),Object(d.jsx)("div",{className:"pasadena-checkout-form-inner",children:Object(d.jsxs)("div",{className:"pasadena-single-box",children:[Object(d.jsx)("div",{className:"form-row",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"name",placeholder:"Enter your name",onChange:function(e){b(e.target.value)},value:j,disabled:!0})]})}),Object(d.jsx)("div",{className:"form-row",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control ",id:"password",placeholder:"Enter new password",onChange:function(e){p(e.target.value)},value:O})]})})]})})]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6",children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:xe,children:"Signout"})}),Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6 text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark",onClick:ge,children:"Save"})})]})]})})}),ve(V),fe(B)]})})},ue=function(e,t){return e.location.pathname===t?"active":""},me=Object(i.h)((function(e){var t=e.history;return Object(d.jsx)("section",{className:"htc__product__area shop__page bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"htc__product__container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"product__menu gutter-btn text-center",children:[Object(d.jsx)("span",{className:"is-checked",children:Object(d.jsx)(l.b,{className:ue(t,"/admin/dashboard/user-information"),to:"/admin/dashboard/user-information",children:"USER INFORMATION"})}),Object(d.jsx)("span",{className:"is-checked",children:Object(d.jsx)(l.b,{className:ue(t,"/admin/dashboard/categories"),to:"/admin/dashboard/categories",children:"CATEGORIES"})}),Object(d.jsx)("span",{className:"is-checked",children:Object(d.jsx)(l.b,{className:ue(t,"/admin/dashboard/products"),to:"/admin/dashboard/products",children:"WORKERS"})}),Object(d.jsx)("span",{className:"is-checked",children:Object(d.jsx)(l.b,{className:ue(t,"/admin/dashboard/orders"),to:"/admin/dashboard/orders",children:"TIPS"})})]})})})})})})),he=function(e){var t=e.history,c=S(),n=c.user,s=c.token,o=Object(a.useState)(n.email),r=Object(m.a)(o,2),l=r[0],i=(r[1],Object(a.useState)(n.name)),j=Object(m.a)(i,2),b=j[0],u=j[1],h=Object(a.useState)(!1),O=Object(m.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(!1),f=Object(m.a)(g,2),N=f[0],w=f[1];Object(a.useEffect)((function(){x(!1),w(!1)}),[b]);var k=function(e){e.preventDefault(),x(!1),w(!1)},I=function(e){e.preventDefault(),localStorage.removeItem("currentUser"),C((function(){t.push("/")}))},E=function(e){e.preventDefault(),x(!1),b?$(n._id,s,{name:b}).then((function(e){e.error?x(e.error.description):_({user:Object(y.a)({},e)},(function(){w("User Updated")}))})):x("User Name can't be empty")};return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Admin Dashboard",children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(me,{}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-9 col-lg-9 dashboard-container",children:[Object(d.jsx)("h4",{className:"section-title-4",children:"USER INFORMATION"}),Object(d.jsx)("div",{className:"pasadena-single-box",children:Object(d.jsxs)("div",{className:"form-row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"name",placeholder:"Enter your name",onChange:function(e){u(e.target.value)},value:b})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"email",className:"normal-label",children:"Email"}),Object(d.jsx)("input",{disabled:"disabled",type:"email",className:"form-control ",id:"email",placeholder:"Enter your email",value:l})]})]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6",children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger dashboard-container-button",onClick:I,children:"Signout"})}),Object(d.jsx)("div",{className:"col-xs-6 col-sm-6 col-lg-6 text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark dashboard-container-button",onClick:E,children:"Save"})})]})]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"alert alert-info col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:N?"":"none"},children:[Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:k,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),N]}),Object(d.jsxs)("div",{className:"alert alert-danger col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:p?"":"none"},children:[p,Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:k,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})]})})},Oe=function(e){var t=e.selectedCategory,c=e.onDataTableSuccess,n=e.onReloadCategories,s=e.onSetModalOpen,o=e.modalOpen,r=Object(a.useState)(""),l=Object(m.a)(r,2),i=l[0],j=l[1],u=Object(a.useState)(""),h=Object(m.a)(u,2),O=h[0],p=h[1],x=Object(a.useState)(""),g=Object(m.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)(""),y=Object(m.a)(N,2),w=(y[0],y[1]),_=Object(a.useState)("New Category"),C=Object(m.a)(_,2),k=C[0],I=C[1],E=Object(a.useState)("Add"),P=Object(m.a)(E,2),T=P[0],A=P[1],F=Object(a.useState)(!1),L=Object(m.a)(F,2),D=L[0],R=L[1],M=S().token;Object(a.useEffect)((function(){fetch("".concat(b.API,"/printing-types"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?R(e.error):w(e)}))}),[]),Object(a.useEffect)((function(){t?(j(t.name),p(t.descr),v(t.printingType._id),I("Edit Category"),A("Save")):(j(""),p(""),v(""),I("Add New Category"),A("Add"))}),[t]),Object(a.useEffect)((function(){R(!1)}),[i,O,f]);return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{class:"modal-backdrop fade in",style:{display:o?"":"none"}}),Object(d.jsx)("div",{className:"modal fade in",id:"categoryModal",role:"dialog","aria-labelledby":"myModalLabel",style:{display:o?"block":"none"},children:Object(d.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close",onClick:function(){return s(!1)},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:k})]}),Object(d.jsxs)("div",{className:"modal-body",style:{padding:"30px"},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:D,onError:function(e){R(e)}})}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Category Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"name",placeholder:"Enter category name",onChange:function(e){return j(e.target.value)},value:i,autoFocus:!0,required:!0})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"descr",className:"normal-label",children:"Category Description"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"descr",placeholder:"Enter category description",onChange:function(e){return p(e.target.value)},value:O})]})]})]}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){return s(!1)},children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(e){e.preventDefault(),R(!1),i&&0!==f?t?function(e,t,c){return fetch("".concat(b.API,"/categories/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,M,{name:i,descr:O,printingType:f}).then((function(e){e.error?(R(e.error.description),c(!1)):(j(""),p(""),v(0),c("Category Updated"),n(),s(!1))})):function(e,t){return fetch("".concat(b.API,"/categories"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":e},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(M,{name:i,descr:O,printingType:f}).then((function(e){e.error?(R(e.error.description),c(!1)):(j(""),p(""),v(0),c("Category Created"),n(),s(!1))})):R("Missing required fields")},children:T})]})]})})})]})},pe=function(){var e=Object(a.useState)(0),t=Object(m.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),o=Object(m.a)(s,2),r=o[0],l=o[1],i=Object(a.useState)(""),j=Object(m.a)(i,2),u=j[0],h=j[1],O=Object(a.useState)(""),p=Object(m.a)(O,2),x=p[0],g=p[1],f=Object(a.useState)(!1),v=Object(m.a)(f,2),N=v[0],y=v[1],w=Object(a.useState)(!1),_=Object(m.a)(w,2),C=_[0],k=_[1],I=Object(a.useState)(!1),E=Object(m.a)(I,2),P=E[0],T=E[1],A=S().token,F=[{name:"Name",selector:"name",sortable:!0},{name:"Description",selector:"descr",sortable:!0},{name:"Actions",cell:function(e){return R(e)},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){L()}),[]),Object(a.useEffect)((function(){if(c){var e=c.filter((function(e){return e.name&&e.name.toLowerCase().includes(u.toLowerCase())}));g(e)}}),[u,c]);var L=function(){W().then((function(e){e.error||n(e)}))},D=function(e){(function(e,t){return fetch("".concat(b.API,"/categories/").concat(t),{method:"DELETE",headers:{Accept:"application/json","x-access-token":e}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(A,e).then((function(e){e.error?k(e.error.description):(L(),T("Category Deleted"))}))},R=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","data-toggle":"modal","data-target":"#deleteModal","aria-label":"remove",onClick:function(){return l(e)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})}),"\xa0\xa0",Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","aria-label":"edit",onClick:function(){l(e),y(!0)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"})})]})};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{className:"modal fade",id:"deleteModal",role:"dialog","aria-labelledby":"myModalLabel",children:Object(d.jsx)("div",{className:"modal-dialog",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"Delete Confirmation"})]}),Object(d.jsx)("div",{className:"modal-body",children:r&&"Do you want to delete category ".concat(r.name,"?")}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark","data-dismiss":"modal",onClick:function(){return D(r._id)},children:"Delete"})]})]})})}),Object(d.jsx)(Oe,{selectedCategory:r,onDataTableError:function(e){return k(e)},onDataTableSuccess:function(e){return T(e)},onReloadCategories:function(){return L()},onSetModalOpen:function(e){return y(e)},modalOpen:N}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:C,success:P,onError:function(e){k(e)},onSuccess:function(e){T(e)}})}),Object(d.jsx)(M.a,{columns:F,data:x,defaultSortField:"name",pagination:!0,highlightOnHover:!0,pointerOnHover:!0,subHeader:!0,subHeaderComponent:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark dashboard-container-button",onClick:function(){l(null),y(!0)},"aria-label":"new",children:"New Category"})})}),function(e){return Object(d.jsx)("div",{className:"",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Name","aria-describedby":"sizing-addon2",value:e,onChange:function(e){return h(e.target.value)},style:{borderRadius:"0"}}),Object(d.jsx)("span",{className:"input-group-addon",id:"sizing-addon2",style:{borderRadius:"0"},children:"Search"})]})})}()]})]})},xe=function(e){e.history;return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Admin Dashboard",children:Object(d.jsx)(a.Fragment,{children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(me,{})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(pe,{})})]})})})},ge=c(87),fe=c(88),ve=c.n(fe),Ne=function(e){var t=e.selectedProduct,c=e.onDataTableSuccess,n=e.onReloadProducts,s=e.onSetModalOpen,o=e.modalOpen,r=Object(a.useState)(""),l=Object(m.a)(r,2),i=l[0],j=l[1],u=Object(a.useState)(""),h=Object(m.a)(u,2),O=h[0],p=h[1],x=Object(a.useState)(""),g=Object(m.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)(""),y=Object(m.a)(N,2),w=y[0],_=y[1],C=Object(a.useState)(""),k=Object(m.a)(C,2),I=k[0],E=k[1],P=Object(a.useState)(""),T=Object(m.a)(P,2),A=T[0],F=T[1],L=Object(a.useState)(""),D=Object(m.a)(L,2),R=D[0],M=D[1],B=Object(a.useState)(""),U=Object(m.a)(B,2),H=U[0],V=U[1],q=Object(a.useState)(""),G=Object(m.a)(q,2),J=G[0],Y=G[1],$=Object(a.useState)(""),Z=Object(m.a)($,2),K=Z[0],X=Z[1],Q=Object(a.useState)(""),ee=Object(m.a)(Q,2),te=ee[0],ce=ee[1],ae=Object(a.useState)(""),ne=Object(m.a)(ae,2),se=ne[0],oe=ne[1],re=Object(a.useState)(""),le=Object(m.a)(re,2),ie=le[0],de=le[1],je=Object(a.useState)({}),be=Object(m.a)(je,2),ue=(be[0],be[1]),me=Object(a.useState)({}),he=Object(m.a)(me,2),Oe=(he[0],he[1]),pe=Object(a.useState)(""),xe=Object(m.a)(pe,2),fe=xe[0],Ne=xe[1],ye=Object(a.useState)("New Product"),we=Object(m.a)(ye,2),_e=we[0],Se=we[1],Ce=Object(a.useState)("Add"),ke=Object(m.a)(Ce,2),Ie=ke[0],Ee=ke[1],Pe=Object(a.useState)(!1),Te=Object(m.a)(Pe,2),Ae=Te[0],Fe=Te[1],Le=Object(a.useRef)(null),De=(b.COLORS,b.SIZES,S().token);Object(a.useEffect)((function(){Ne(new FormData),W().then((function(e){e.error?Fe(e.error):de(e)})),ue(b.COLORS_INIT),Oe(b.SIZES_INIT)}),[]),Object(a.useEffect)((function(){Fe(!1)}),[i,O,J,te,se,K]),Object(a.useEffect)((function(){t?(j(t.name),_(t.email),v(t.phoneNumber),E(t.role),F(t.local),M(t.emailPaypal),V(t.password),p(t.descr),Y(t.price),X(t.weight),ce(t.qty),oe(t.category._id),ue(t.colorList||b.COLORS_INIT),Oe(t.sizeList||b.SIZES_INIT),Se("Edit Worker"),Ee("Save"),fe.set("colorList",JSON.stringify(t.colorList)),fe.set("sizeList",JSON.stringify(t.sizeList))):(j(""),_(""),v(""),E(""),F(""),M(""),V(""),p(""),Y(""),X(""),ce(""),oe(0),ue(b.COLORS_INIT),Oe(b.SIZES_INIT),Se("Add New Worker"),Ee("Add"))}),[t]);return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{class:"modal-backdrop fade in",style:{display:o?"":"none"}}),Object(d.jsx)("div",{className:"modal fade in",id:"categoryModal",role:"dialog","aria-labelledby":"myModalLabel",style:{display:o?"block":"none"},children:Object(d.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close",onClick:function(){s(!1)},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:_e})]}),Object(d.jsxs)("div",{className:"modal-body",style:{padding:"30px",minHeight:"550px","overflow-y":"auto",maxHeight:"600px"},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:Ae,onError:function(e){Fe(e)}})}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"name",placeholder:"Enter name",onChange:function(e){j(e.target.value),fe.set("name",e.target.value)},value:i,autoFocus:!0,required:!0})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"image",className:"normal-label",children:"Worker Image"}),Object(d.jsx)("input",{type:"file",className:"form-control input-file",id:"image",accept:"image/*",placeholder:"Enter worker image",ref:Le,onChange:function(e){fe.set("image",e.target.files[0])}})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-3 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"email",className:"normal-label",children:"Email"}),Object(d.jsx)("input",{type:"email",className:"form-control ",id:"email",placeholder:"Email*",onChange:function(e){_(e.target.value),fe.set("email",e.target.value)},value:w,autoFocus:!0,required:!0})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"phone_number",className:"normal-label",children:"Phone Number"}),Object(d.jsx)("input",{type:"text",className:"form-control ",id:"phone_number",placeholder:"Enter your phone number",onChange:function(e){v(e.target.value),fe.set("phoneNumber",e.target.value)},value:f})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-3 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"category",className:"normal-label",children:" Category"}),Object(d.jsx)("div",{className:"select-option",children:Object(d.jsxs)("select",{id:"category",className:"form-control",onChange:function(e){for(var t in oe(e.target.value),ie)ie[t]._id===e.target.value&&fe.set("printingType",ie[t].printingType._id);fe.set("category",e.target.value),fe.set("qty",1),fe.set("price",1),fe.set("weight",1)},value:se,children:[Object(d.jsx)("option",{value:0,children:"Select Category"}),ie&&ie.map((function(e,t){return Object(d.jsx)("option",{value:e._id,children:"".concat(e.name)},t)}))]})})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"image",className:"normal-label",children:"Local"}),Object(d.jsx)("div",{className:"select-option",children:Object(d.jsxs)("select",{id:"local",className:"form-control",onChange:function(e){F(e.target.value),fe.set("local",e.target.value)},value:A,children:[Object(d.jsx)("option",{value:"",children:"Select Local"}),Object(d.jsx)("option",{value:"downtowndisney",children:"Downtown Disney Rest."},"downtowndisney"),Object(d.jsx)("option",{value:"magickingdom",children:"Magic Kingdom Rest."},"magickingdom"),Object(d.jsx)("option",{value:"magickingdom",children:"Universal Resort"},"magickingdom"),Object(d.jsx)("option",{value:"marriottrenaissance",children:"Marriott Renaissance"},"marriottrenaissance")]})})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-3 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"emailPaypal",className:"normal-label",children:"Paypal Account"}),Object(d.jsx)("input",{type:"email",className:"form-control ",id:"emailPaypal",placeholder:"Email for Paypal*",onChange:function(e){M(e.target.value),fe.set("emailPaypal",e.target.value)},value:R,autoFocus:!0,required:!0})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"image",className:"normal-label",children:"Role"}),Object(d.jsx)("div",{className:"select-option",children:Object(d.jsxs)("select",{id:"role",className:"form-control",onChange:function(e){E(e.target.value),fe.set("role",e.target.value)},value:I,children:[Object(d.jsx)("option",{value:"",children:"Select Role"}),Object(d.jsx)("option",{value:"admin",children:"Admin"},"admin"),Object(d.jsx)("option",{value:"worker",children:"Worker"},"worker")]})})]})]}),Object(d.jsx)("div",{className:"form-row row",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-3 col-lg-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"normal-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control ",id:"password",onChange:function(e){V(e.target.value),fe.set("password",e.target.value)},value:H,autoFocus:!0,required:!0})]})}),Object(d.jsx)("div",{className:"form-row row",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-12 col-lg-12",children:[Object(d.jsx)("label",{htmlFor:"descr",className:"normal-label",children:"Description"}),Object(d.jsx)("div",{className:"ck-editor","data-example-id":"textarea-form-control",children:Object(d.jsx)(ge.CKEditor,{editor:ve.a,config:{toolbar:["heading","bold","italic","blockQuote","bulletedList","numberedList","|","undo","redo"]},data:O,onChange:function(e,t){var c=t.getData();fe.set("descr",c)}})})]})})]}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){s(!1)},children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(e){e.preventDefault(),Fe(!1),t?function(e,t,c){return fetch("".concat(b.API,"/products/").concat(e),{method:"PUT",headers:{Accept:"application/json","x-access-token":t},body:c}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,De,fe).then((function(e){e.error?(Fe(e.error.description),c(!1)):(j(""),Le.current.value=null,_(""),v(""),E(""),F(""),M(""),p(""),V(""),Y(""),X(""),oe(0),ue(b.COLORS_INIT),Oe(b.SIZES_INIT),ce(""),Ne(new FormData),c("Product Updated"),n(),s(!1))})):function(e,t){return fetch("".concat(b.API,"/products"),{method:"POST",headers:{Accept:"application/json","x-access-token":e},body:t}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(De,fe).then((function(e){e.error?(Fe(e.error.description),c(!1)):(j(""),Le.current.value=null,_(""),v(""),E(""),F(""),M(""),V(""),p(""),Y(""),X(""),oe(0),ue(b.COLORS_INIT),Oe(b.SIZES_INIT),ce(""),Ne(new FormData),c("User/Worker Created"),n(),s(!1))}))},children:Ie})]})]})})})]})},ye=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),o=Object(m.a)(s,2),r=o[0],l=o[1],i=Object(a.useState)(""),j=Object(m.a)(i,2),u=j[0],h=j[1],O=Object(a.useState)(""),p=Object(m.a)(O,2),x=p[0],g=p[1],f=Object(a.useState)(!1),v=Object(m.a)(f,2),N=v[0],y=v[1],w=Object(a.useState)(!1),_=Object(m.a)(w,2),C=_[0],k=_[1],I=Object(a.useState)(!1),E=Object(m.a)(I,2),P=E[0],T=E[1],A=S().token,F=[{name:"Category",sortable:!0,cell:function(e){return Object(d.jsx)("div",{children:e.category.name})}},{name:"Name",selector:"name",sortable:!0},{name:"Actions",cell:function(e){return R(e)},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){L()}),[]),Object(a.useEffect)((function(){if(c){var e=c.filter((function(e){return e.name&&e.name.toLowerCase().includes(u.toLowerCase())}));g(e)}}),[u,c]);var L=function(){G().then((function(e){e.error||n(e)}))},D=function(e){(function(e,t){return fetch("".concat(b.API,"/products/").concat(t),{method:"DELETE",headers:{Accept:"application/json","x-access-token":e}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(A,e).then((function(e){e.error?k(e.error.description):(L(),T("Worker Deleted"))}))},R=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","data-toggle":"modal","data-target":"#deleteModal","aria-label":"remove",onClick:function(){l(e)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})}),"\xa0\xa0",Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","aria-label":"edit",onClick:function(){l(e),y(!0)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"})})]})};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{className:"modal fade",id:"deleteModal",role:"dialog","aria-labelledby":"myModalLabel",children:Object(d.jsx)("div",{className:"modal-dialog",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"Delete Confirmation"})]}),Object(d.jsx)("div",{className:"modal-body",children:r&&"Do you want to delete worker ".concat(r.name,"?")}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark","data-dismiss":"modal",onClick:function(){D(r._id)},children:"Delete"})]})]})})}),Object(d.jsx)(Ne,{selectedProduct:r,onDataTableError:function(e){return k(e)},onDataTableSuccess:function(e){return T(e)},onReloadProducts:function(){return L()},onSetModalOpen:function(e){return y(e)},modalOpen:N}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:C,success:P,onError:function(e){k(e)},onSuccess:function(e){T(e)}})}),Object(d.jsx)(M.a,{columns:F,data:x,defaultSortField:"printingType",pagination:!0,highlightOnHover:!0,pointerOnHover:!0,subHeader:!0,subHeaderComponent:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark dashboard-container-button",onClick:function(){l(null),y(!0)},"aria-label":"new",children:"New Worker"})})}),function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Worker Name",ariaDescribedby:"sizing-addon2",value:e,onChange:function(e){return h(e.target.value)},style:{borderRadius:"0"}}),Object(d.jsx)("span",{className:"input-group-addon",id:"sizing-addon2",style:{borderRadius:"0"},children:"Search"})]})})}()]})]})},we=function(e){return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Admin Dashboard",children:Object(d.jsx)(a.Fragment,{children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(me,{})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(ye,{})})]})})})},_e=function(e){var t=e.productId,c=e.selectedView,n=(e.numberOfViews,e.onDataTableSuccess),s=e.onReloadViews,o=e.onSetModalOpen,r=e.modalOpen,l=Object(a.useState)(""),i=Object(m.a)(l,2),j=i[0],u=i[1],h=Object(a.useState)(""),O=Object(m.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(!1),f=Object(m.a)(g,2),v=f[0],N=f[1],y=Object(a.useState)(new FormData),w=Object(m.a)(y,2),_=w[0],C=w[1],k=Object(a.useState)("New View"),I=Object(m.a)(k,2),E=I[0],P=I[1],T=Object(a.useState)("Add"),A=Object(m.a)(T,2),F=A[0],L=A[1],D=Object(a.useState)(!1),R=Object(m.a)(D,2),M=R[0],B=R[1],U=Object(a.useRef)(null),H=Object(a.useRef)(null),V=Object(a.useRef)(null),q=Object(a.useRef)(null),W=S().token;Object(a.useEffect)((function(){B(!1)}),[j,p,v]),Object(a.useEffect)((function(){c?(u(c.name),x(c.price),P("Edit View"),L("Save"),N(c._id==c.product.mainView)):(u(""),x(""),P("Add New Modal"),L("Add"),N(!1))}),[c]);return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{class:"modal-backdrop fade in",style:{display:r?"":"none"}}),Object(d.jsx)("div",{className:"modal fade in",id:"categoryModal",role:"dialog","aria-labelledby":"myModalLabel",style:{display:r?"block":"none"},children:Object(d.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close",onClick:function(){o(!1)},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:E})]}),Object(d.jsxs)("div",{className:"modal-body",style:{padding:"30px"},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:M,onError:function(e){B(e)}})}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-8 col-lg-8",children:[Object(d.jsx)("label",{htmlFor:"name",className:"normal-label",children:"View Name"}),Object(d.jsx)("input",{type:"text",className:"form-control input-file",id:"name",placeholder:"Enter View name",onChange:function(e){u(e.target.value),_.set("name",e.target.value)},value:j,autoFocus:!0,required:!0})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-4 col-lg-4",children:[Object(d.jsx)("label",{htmlFor:"price",className:"normal-label",children:"Price"}),Object(d.jsx)("input",{type:"number",className:"form-control input-file",id:"price",step:"any",placeholder:"Enter view price",onChange:function(e){x(e.target.value),_.set("price",e.target.value)},value:p})]})}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"image",className:"normal-label",children:"View Image Preview"}),Object(d.jsx)("input",{type:"file",className:"form-control input-file",id:"image",accept:"image/*",placeholder:"Enter view image preview",ref:U,onChange:function(e){var t=e.target.files[0].name.split(".").pop();_.set("image",e.target.files[0],"preview.".concat(t))}})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"imageBase",className:"normal-label",children:"View Image Base"}),Object(d.jsx)("input",{type:"file",className:"form-control input-file",id:"imageBase",accept:"image/*",placeholder:"Enter view image base",ref:H,onChange:function(e){var t=e.target.files[0].name.split(".").pop();_.set("imageBase",e.target.files[0],"base.".concat(t))}})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"imageShadows",className:"normal-label",children:"View Image Shadows"}),Object(d.jsx)("input",{type:"file",className:"form-control input-file",id:"imageShadows",accept:"image/*",placeholder:"Enter view image shadows",ref:V,onChange:function(e){var t=e.target.files[0].name.split(".").pop();_.set("imageShadows",e.target.files[0],"shadows.".concat(t))}})]}),Object(d.jsxs)("div",{className:"form-group col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("label",{htmlFor:"imageHighlights",className:"normal-label",children:"View Image Highlights"}),Object(d.jsx)("input",{type:"file",className:"form-control input-file",id:"imageHighlights",accept:"image/*",placeholder:"Enter view image highlights",ref:q,onChange:function(e){var t=e.target.files[0].name.split(".").pop();_.set("imageHighlights",e.target.files[0],"highlights.".concat(t))}})]}),Object(d.jsx)("div",{className:"checkbox form-group col-xs-6 col-sm-6 col-lg-6",children:Object(d.jsxs)("label",{className:"checkbox",style:{"padding-left":"0px"},children:["Set this as main view",Object(d.jsx)("input",{style:{"margin-left":"10px","margin-top":"5px"},type:"checkbox",checked:v,name:"mainView",onChange:function(e){N(e.target.checked),_.set("mainView",e.target.checked)},disabled:c&&c._id==c.product.mainView})]})})]})]}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){o(!1)},children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(e){e.preventDefault(),B(!1),_.set("product",t),c?function(e,t,c,a){return fetch("".concat(b.API,"/products/").concat(c,"/productViews/").concat(e),{method:"PUT",headers:{Accept:"application/json","x-access-token":t},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(c._id,W,t,_).then((function(e){e.error?(B(e.error.description),n(!1)):(u(""),x(""),U.current&&(U.current.value=null),H.current&&(H.current.value=null),V.current&&(V.current.value=null),q.current&&(q.current.value=null),C(new FormData),n("View Updated"),s(v?c._id:null),o(!1),N(!1))})):function(e,t,c){return fetch("".concat(b.API,"/products/").concat(t,"/productViews"),{method:"POST",headers:{Accept:"application/json","x-access-token":e},body:c}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(W,t,_).then((function(e){e.error?(B(e.error.description),n(!1)):(u(""),x(""),U.current&&(U.current.value=null),H.current&&(H.current.value=null),V.current&&(V.current.value=null),q.current&&(q.current.value=null),C(new FormData),n("View Created"),s(v?e._id:null),o(!1),N(!1))}))},children:F})]})]})})})]})},Se=function(e){var t=e.productId,c=Object(a.useState)(""),n=Object(m.a)(c,2),s=n[0],o=n[1],r=Object(a.useState)(""),l=Object(m.a)(r,2),i=l[0],j=l[1],u=Object(a.useState)(""),h=Object(m.a)(u,2),O=h[0],p=h[1],x=Object(a.useState)(""),g=Object(m.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)(!1),y=Object(m.a)(N,2),w=y[0],_=y[1],C=Object(a.useState)(!1),k=Object(m.a)(C,2),I=k[0],E=k[1],P=Object(a.useState)(!1),T=Object(m.a)(P,2),A=T[0],F=T[1],L=S().token,D=[{name:"Name",selector:"name",sortable:!0},{name:"Price",selector:"price",sortable:!0},{name:"Main View",cell:function(e){return Object(d.jsx)("div",{style:{marginLeft:20},children:Object(d.jsx)("input",{type:"checkbox",checked:e.product.mainView==e._id})})}},{name:"Actions",cell:function(e){return U(e)},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){R()}),[]),Object(a.useEffect)((function(){if(s){var e=s.filter((function(e){return e.name&&e.name.toLowerCase().includes(O.toLowerCase())}));v(e)}}),[O,s]);var R=function(){(function(e,t){var c="".concat(b.API,"/products/").concat(t,"/productViews");return fetch(c,{method:"GET",headers:{Accept:"application/json","x-access-token":e}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(L,t).then((function(e){if(e.error);else{var t=[];e.forEach((function(e){e._id==e.product.mainView?t.unshift(e):t.push(e)})),o(t)}}))},B=function(e){(function(e,t,c){return fetch("".concat(b.API,"/products/").concat(t,"/productViews/").concat(c),{method:"DELETE",headers:{Accept:"application/json","x-access-token":e}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(L,t,e).then((function(e){e.error?E(e.error.description):(R(),F("View Deleted"))}))},U=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","data-toggle":"modal","data-target":"#deleteModal","aria-label":"remove",onClick:function(){j(e)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})}),"\xa0\xa0",Object(d.jsx)("button",{type:"button",className:"btn btn-default btn-sm btn-icon","aria-label":"edit",onClick:function(){j(e),_(!0)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"})})]})};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{className:"modal fade",id:"deleteModal",role:"dialog","aria-labelledby":"myModalLabel",children:Object(d.jsx)("div",{className:"modal-dialog",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"Delete Confirmation"})]}),Object(d.jsx)("div",{className:"modal-body",children:i&&"Do you want to delete view ".concat(i.name,"?")}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:"btn btn-dark","data-dismiss":"modal",onClick:function(){B(i._id)},children:"Delete"})]})]})})}),Object(d.jsx)(_e,{productId:t,selectedView:i,numberOfViews:s.length,onDataTableError:function(e){return E(e)},onDataTableSuccess:function(e){return F(e)},onReloadViews:function(){return R()},onSetModalOpen:function(e){return _(e)},modalOpen:w}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:I,success:A,onError:function(e){E(e)},onSuccess:function(e){F(e)}})}),Object(d.jsx)(M.a,{columns:D,data:f,defaultSortField:"printingType",pagination:!0,highlightOnHover:!0,pointerOnHover:!0,subHeader:!0,subHeaderComponent:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"button",className:"btn btn-dark dashboard-container-button",onClick:function(){j(null),_(!0)},"aria-label":"new",children:"New Product View"})})}),function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"View Name",ariaDescribedby:"sizing-addon2",value:e,onChange:function(e){return p(e.target.value)},style:{borderRadius:"0"}}),Object(d.jsx)("span",{className:"input-group-addon",id:"sizing-addon2",style:{borderRadius:"0"},children:"Search"})]})})}()]})]})},Ce=function(){var e=Object(i.g)().id;return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Admin Dashboard",children:Object(d.jsx)(a.Fragment,{children:Object(d.jsx)("div",{className:"container ptb--40",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(Se,{productId:e})})})})})},ke=function(e){var t=e.product,c=e.delCallback,n=e.editCallback,s=Object(a.useState)(0),o=Object(m.a)(s,2),r=o[0],l=o[1],i=Object(a.useState)(""),j=Object(m.a)(i,2),u=(j[0],j[1]);Object(a.useEffect)((function(){return l(t.qty)}),[t.qty]);var h=function(e){var c=e.target.value;t.size=c,u(c),n&&n(t,c,"size")};return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"product-thumbnail",children:Object(d.jsx)("a",{href:"/design/".concat(t.productType,"/edit/").concat(t.id,"/print/").concat(t.category.printingType._id),children:Object(d.jsx)("img",{className:"image-product-cart-full",src:t.image,alt:"product images"})})}),Object(d.jsx)("td",{className:"product-name",children:Object(d.jsx)("a",{href:"/design/".concat(t.productType,"/edit/").concat(t.id,"/print/").concat(t.category.printingType._id),children:t.name})}),Object(d.jsx)("td",{className:"product-price",children:Object(d.jsxs)("span",{className:"amount",children:["$",t.price]})}),Object(d.jsx)("td",{className:"product-quantity",children:Object(d.jsx)("input",{type:"number",value:r,onChange:function(e){var c=e.target.value;c>0&&(l(c),n&&n(t,c,"qty"))}})}),Object(d.jsx)("td",{className:"product-size",children:Object(d.jsx)("select",{className:"select-size",style:{height:40,width:65,paddingLeft:10,paddingRight:5},onChange:h,value:t.size,children:b.SIZES.map((function(e){return Object(d.jsx)("option",{value:e.code,children:e.code},e.code)}))})}),Object(d.jsxs)("td",{className:"product-subtotal",children:["$",(t.price*r).toFixed(2)]}),Object(d.jsx)("td",{className:"product-remove",children:Object(d.jsx)("a",{href:"javascript:void(0)",title:"Remove this item",onClick:function(){c&&c(t.id)},children:Object(d.jsx)("i",{className:"zmdi zmdi-close"})})})]})},Ie=function(){var e=Object(a.useState)(),t=Object(m.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),o=Object(m.a)(s,2),l=o[0],i=o[1],j=Object(a.useState)(localStorage.getItem("cartLastUpdate")),u=Object(m.a)(j,2),h=u[0],O=u[1],p=Object(r.useIndexedDB)("cart"),x=p.getAll,g=p.deleteRecord,f=p.update,N=Object(a.useCallback)((function(e){console.log("FullCart@onLocalStorageChange"),e.key&&"cartLastUpdate"===e.key&&e.oldValue!==e.newValue&&S()}),[]),y=Object(a.useCallback)((function(e){if(console.log("FullCart@onMessageReceived()"),"updateCart"===e.data&&e.origin===b.HOME_URL){var t=localStorage.getItem("cartLastUpdate");null!==t&&t!==h&&setTimeout((function(){S(),O(t)}),750)}else{if(e.origin!==b.BASE_FPD_URL)return;setTimeout((function(){S()}),750)}}),[]),w=Object(a.useCallback)((function(e){console.log("onDeleteProduct "+e),e&&g(e).then((function(e){console.log("Deleted product form cart!"),S(),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){console.log(e)}))}),[]),_=Object(a.useCallback)((function(e,t,c){console.log("onEditProduct "+e.id),e[c]=t,f(e).then((function(){console.log("Product Updated successfully!."),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now()),S()}),(function(e){console.log(e)}))}));Object(a.useEffect)((function(){return S()}),[]),Object(a.useEffect)((function(){return window.addEventListener("message",y),function(){return window.removeEventListener("message",y)}}),[y]),Object(a.useEffect)((function(){return window.addEventListener("storage",N),function(){return window.removeEventListener("storage",N)}}),[N]);var S=function(){x().then((function(e){for(var t=0,c=0;c<e.length;c++)t+=e[c].price*e[c].qty;n(e),i(t),localStorage.setItem("cartHasItems",e.length>0)}),(function(e){console.log(e)}))};return Object(d.jsx)(v,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,children:c&&c.length>0?Object(d.jsx)("div",{className:"cart-main-area ptb--60 bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(d.jsx)("div",{className:"table-content table-responsive",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"product-thumbnail",children:"Preview"}),Object(d.jsx)("th",{className:"product-name",children:"Product"}),Object(d.jsx)("th",{className:"product-price",children:"Price"}),Object(d.jsx)("th",{className:"product-quantity",children:"Quantity"}),Object(d.jsx)("th",{className:"product-size",children:"Size"}),Object(d.jsx)("th",{className:"product-subtotal",children:"Total"}),Object(d.jsx)("th",{className:"product-remove",children:"Remove"})]})}),Object(d.jsx)("tbody",{children:c&&c.length>0?c.map((function(e){return Object(d.jsx)(ke,{product:e,editCallback:_,delCallback:w},e.id)})):null})]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-3",children:Object(d.jsx)("ul",{className:"shopping__btn",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/screen-printing/traditional",children:"Keep Shopping"})})})}),Object(d.jsx)("div",{className:"col-md-3 col-md-offset-6",children:Object(d.jsxs)("div",{className:"our-important-note",children:[Object(d.jsxs)("ul",{className:"shoping__total",style:{border:0,paddingTop:0},children:[Object(d.jsx)("li",{className:"subtotal",children:"Sub-Total:"}),Object(d.jsxs)("li",{className:"total__price",style:{fontSize:20},children:["$",l.toFixed(2)]})]}),Object(d.jsx)("ul",{className:"shopping__btn",children:Object(d.jsx)("li",{className:"shp__checkout",children:Object(d.jsx)("a",{href:"/checkout",children:"Proceed to Checkout"})})})]})})]})]})})})}):Object(d.jsx)("div",{className:"cart-main-area ptb--60 bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-4 col-md-offset-4",children:[Object(d.jsx)("ul",{style:{paddingTop:22,paddingBottom:22},children:Object(d.jsxs)("li",{style:{fontSize:22,textAlign:"center"},children:["Cart is empty ",Object(d.jsx)("span",{className:"ti-face-sad"}),"!"]})}),Object(d.jsx)("ul",{className:"shopping__btn",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/screen-printing/traditional",children:"Go to Shop"})})})]})})})})})},Ee=(c(90),function(e){e.title,e.description;var t=e.currentPage,c=void 0===t?"Current":t,a=e.className,n=e.children,s=e.showBreadcrumb,o=void 0===s||s;return f(window.location.origin+"/js/main.js"),Object(d.jsxs)(d.Fragment,{children:[o&&Object(d.jsx)(j,{currentPage:c}),Object(d.jsxs)("div",{className:a,children:[Object(d.jsx)("div",{className:"body__overlay"}),Object(d.jsx)("div",{className:"offset__wrapper"}),n]})]})}),Pe=function(e){var t=e.product,c=(e.delCallback,e.editCallback,Object(a.useState)(0)),n=Object(m.a)(c,2),s=(n[0],n[1]),o=Object(a.useState)(""),l=Object(m.a)(o,2),i=(l[0],l[1]);Object(r.useIndexedDB)("cart").update;Object(a.useEffect)((function(){return s(t.qty)}),[t.qty]),Object(a.useEffect)((function(){return i(t.size)}),[t.size]);return Object(d.jsxs)("div",{className:"checkout-single-product",children:[Object(d.jsx)("div",{className:"shp__pro__thumb",children:Object(d.jsx)("img",{src:"".concat(b.API,"/").concat(t.imageURL),onError:function(e){e.target.onerror=null},alt:"Wroker Imagen",style:{maxHeight:"80px"}})}),Object(d.jsx)("div",{className:"shp__pro__details",style:{zIndex:100},children:Object(d.jsx)("span",{className:"checkout-name",children:t.name})})]})},Te=c(25),Ae=function(e){var t=S(),c=t.user,n=t.token,s=Object(a.useState)(),o=Object(m.a)(s,2),l=(o[0],o[1]),j=Object(a.useState)(0),u=Object(m.a)(j,2),h=(u[0],u[1]),O=Object(a.useState)(0),p=Object(m.a)(O,2),x=(p[0],p[1]),g=Object(a.useState)(localStorage.getItem("cartLastUpdate")),f=Object(m.a)(g,2),v=f[0],N=f[1],w=Object(a.useState)(0),_=Object(m.a)(w,2),C=_[0],k=_[1],I=Object(a.useState)(localStorage.getItem("orderId")),E=Object(m.a)(I,2),P=E[0],T=E[1],A=Object(a.useState)(""),F=Object(m.a)(A,2),L=(F[0],F[1],Object(a.useState)(0)),D=Object(m.a)(L,2),R=D[0],M=(D[1],Object(a.useState)(0)),B=Object(m.a)(M,2),U=(B[0],B[1]),z=Object(r.useIndexedDB)("cart"),H=z.getAll,V=z.deleteRecord,q=z.update,W=Object(a.useState)(""),G=Object(m.a)(W,2),J=G[0],$=G[1],Z=Object(a.useState)(""),K=Object(m.a)(Z,2),X=(K[0],K[1],Object(a.useState)(0)),Q=Object(m.a)(X,2),ee=Q[0],te=Q[1],ce=Object(a.useState)(""),ae=Object(m.a)(ce,2),ne=ae[0],se=ae[1],oe=Object(a.useState)(0),re=Object(m.a)(oe,2),le=re[0],ie=re[1],de=Object(a.useState)(0),je=Object(m.a)(de,2),be=je[0],ue=je[1],me=Object(a.useState)(0),he=Object(m.a)(me,2),Oe=he[0],pe=he[1],xe=Object(a.useState)(0),ge=Object(m.a)(xe,2),fe=ge[0],ve=ge[1],Ne=Object(a.useState)(0),ye=Object(m.a)(Ne,2),we=ye[0],_e=ye[1],Se=Object(a.useState)(0),Ce=Object(m.a)(Se,2),ke=Ce[0],Ie=Ce[1],Ae=Object(a.useState)(10),Fe=Object(m.a)(Ae,2),Le=Fe[0],De=Fe[1],Re=Object(a.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{},address:""}),Me=Object(m.a)(Re,2),Be=(Me[0],Me[1],Object(a.useState)(0)),Ue=Object(m.a)(Be,2),ze=Ue[0],He=Ue[1],Ve=Object(a.useState)({}),qe=Object(m.a)(Ve,2),We=(qe[0],qe[1],Object(a.useState)("")),Ge=Object(m.a)(We,2),Je=(Ge[0],Ge[1]),Ye=Object(a.useState)(!1),$e=Object(m.a)(Ye,2),Ze=$e[0],Ke=$e[1],Xe=localStorage.getItem("jwt")?JSON.parse(localStorage.getItem("jwt")):"",Qe=function(e){for(var t=window.location.search.substring(1).split("&"),c=0;c<t.length;c++){var a=t[c].split("=");if(a[0]==e)return a[1]}return!1}("worker");console.log("worker:",Qe);var et=Object(a.useState)({name:""!==Xe?Xe.user.name:"",email:""!==Xe?Xe.user.email:"",confirmEmail:""!==Xe?Xe.user.email:"",phone:""!==Xe?Xe.phoneNumber:"",addressLine1:""!==Xe?Xe.street:"",city:""!==Xe?Xe.city:"",state:""!==Xe?Xe.state:"",postalCode:"",country:""!==Xe?Xe.name:""}),tt=Object(m.a)(et,2),ct=(tt[0],tt[1],Object(a.useState)({name:null,email:null,confirmEmail:null,phone:null,addressLine1:null,addressLine2:null,city:null,state:null,postalCode:null})),at=Object(m.a)(ct,2),nt=(at[0],at[1]),st=(Object(a.useRef)(null),Object(a.useRef)(null),Object(a.useCallback)((function(e){console.log("Checkout@onLocalStorageChange"),e.key&&"cartLastUpdate"===e.key&&e.oldValue!==e.newValue&&it()}),[])),ot=Object(a.useCallback)((function(e){if(console.log("Checkout@onMessageReceived()"),"updateCart"===e.data&&e.origin===b.HOME_URL){var t=localStorage.getItem("cartLastUpdate");null!==t&&t!==v&&setTimeout((function(){it(),N(t)}),750)}else{if(e.origin!==b.BASE_FPD_URL)return;setTimeout((function(){it()}),750)}}),[]),rt=Object(a.useCallback)((function(e){console.log("onDeleteProduct "+e),e&&V(e).then((function(e){console.log("Deleted product form cart!"),it(),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now())}),(function(e){console.log(e)}))}),[]),lt=Object(a.useCallback)((function(e,t,c){console.log("onEditProduct "+e.id),e[c]=t,q(e).then((function(){console.log("Product Updated successfully!."),window.postMessage("updateCart","*"),localStorage.setItem("cartLastUpdate",Date.now()),it()}),(function(e){console.log(e)}))}));Object(a.useEffect)((function(){it()}),[]),Object(a.useEffect)((function(){return window.addEventListener("message",ot),function(e){var t="".concat(b.API,"/products/").concat(e);return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(Qe).then((function(e){e.error||(console.log("data de product",e),$(e))})),function(){return window.removeEventListener("message",ot)}}),[ot]),Object(a.useEffect)((function(){return window.addEventListener("storage",st),function(){return window.removeEventListener("storage",st)}}),[st]),Object(a.useEffect)((function(){localStorage.setItem("shippingFee",R)}),[R]);var it=function(){H().then((function(e){for(var t=0,c=0,a=0,n=0;n<e.length;n++)t+=e[n].price*parseInt(e[n].qty),c+=parseInt(e[n].qty),a+=parseInt(e[n].qty)*e[n].weight;U(Math.ceil(a)),l(e),x(t),h(c),localStorage.setItem("cartHasItems",c>0)}),(function(e){console.log(e)}))},dt=function(e){10==e&&(De(10),ne>0&&te((.1*ne).toFixed(2))),15==e&&(De(15),ne>0&&te((.15*ne).toFixed(2))),20==e&&(De(20),ne>0&&te((.2*ne).toFixed(2)))},jt=function(){var e={name:null,email:null,phone:null,addressLine1:null,city:null,state:null,postalCode:null},t=!1;if(0==ee&&(e.name="Please, enter amount in the bill",t=!0),0==be&&(e.name="Please, accept terms...",t=!0),0==le&&(e.name="Please, accept fees...",t=!0),nt((function(t){return Object(y.a)(Object(y.a)({},t),e)})),!t){var a=new FormData;console.log("currentProduct for JSON",J),a.append("price",ee),a.append("term",be),a.append("trFee",le),a.append("dish",we),a.append("atmosphere",fe),a.append("tasty",ke),a.append("goodService",Oe),a.append("porcent",Le),a.append("valueStar",ze),a.append("product_id",J._id),a.append("product",JSON.stringify(J)),function(e,t){return fetch("".concat(b.API,"/orders"),{method:"POST",headers:{Accept:"application/json","x-access-token":t},body:e}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(a,n).then((function(e){setTimeout((function(){(T(e._id),Ke(!1),ze>0)&&Y(n,{rating:ze,review:{dish:we,tasty:ke,goodService:Oe,atmosphere:fe},product:J._id,user:c?c._id:"61bea35a889ca550650d4fff"}).then((function(e){"The rating already exist"!=e.message?e.error?(Ke(e.error.description),console.log("error",Ze)):(He(0),Je("")):Ke(e.message)}));localStorage.setItem("orderId",e._id),k(!0)}),1500)}))}},bt=function(){var e=[];return J?(e.push(J),console.log("currentProduct0",e),e.map((function(e){return Object(d.jsx)("div",{className:"checkout__cart__wrap",children:Object(d.jsx)(Pe,{product:e,editCallback:lt,delCallback:rt})},e._id)}))):Object(d.jsx)("span",{children:"..."})},ut=function(){return Object(d.jsxs)("form",{className:"pasadena-checkout-form-inner",autoComplete:"off",children:[Object(d.jsxs)("div",{className:"input-checkout-container col-xg-12 col-md-12 col-xs-12",children:[Object(d.jsx)("div",{class:"botonbill col-xg-4 col-md-4 col-xs-4",onClick:function(){return dt(10)},style:{backgroundColor:10==Le?"gray":"white"},children:Object(d.jsx)("b",{children:Object(d.jsx)("span",{children:"10%"})})}),Object(d.jsx)("div",{class:"botonbill col-xg-4 col-md-4 col-xs-4",onClick:function(){return dt(15)},style:{backgroundColor:15==Le?"gray":"white"},children:Object(d.jsx)("b",{children:Object(d.jsx)("span",{children:"15%"})})}),Object(d.jsx)("div",{class:"botonbill col-xg-4 col-md-4 col-xs-4",onClick:function(){return dt(20)},style:{backgroundColor:20==Le?"gray":"white"},children:Object(d.jsx)("b",{children:Object(d.jsx)("span",{children:"20%"})})})]}),Object(d.jsx)("div",{className:"itiptiptop-amount-tip",children:Object(d.jsxs)("div",{className:"tiptiptop-amount-tip font-white font-18",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",ee,"$ ",Object(d.jsx)("span",{className:"label2",children:"Tip amount"})]})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",disabled:!0,className:"label2 bg_tip",name:"ratelabel",value:"Rate your experience"})}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"row",id:"post-review-box",children:Object(d.jsxs)("div",{className:"col-md-12 col-xs-12",children:[Object(d.jsx)("div",{class:"col-xg-1 col-md-1 col-xs-1",children:"\xa0"}),Object(d.jsx)("form",{"accept-charset":"UTF-8",action:"",method:"post",class:"col-xg-8 col-md-8 col-xs-8",children:Object(d.jsxs)("div",{className:"text-right",children:[Object(d.jsx)("div",{className:"well-sm",children:Object(d.jsx)(Te.a,{value:ze,size:"16px",inactiveColor:"#cccccc",onChange:function(e){return He(e)}})}),Object(d.jsx)("input",{id:"ratings-hidden",name:"rating",type:"hidden"})]})}),Object(d.jsx)("div",{class:"col-xg-2 col-md-2 col-xs-2",children:"\xa0"})]})})})]})}),Object(d.jsx)("div",{className:"bg_tip",children:"\xa0"}),Object(d.jsxs)("div",{className:"input-checkout-container col-xg-12 col-md-12 col-xs-12 bg_tip",children:[Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{onClick:function(){_e(0==we?1:0)},src:window.location.origin+"/images/logo/dish_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{style:{color:0==we?"black":"white"},children:"Dish"})]}),Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{onClick:function(){ve(0==fe?1:0)},src:window.location.origin+"/images/logo/atmosphere_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{style:{color:0==fe?"black":"white"},children:"Atmos"})]}),Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{onClick:function(){Ie(0==ke?1:0)},src:window.location.origin+"/images/logo/tasty_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{style:{color:0==ke?"black":"white"},children:"Tasty"})]}),Object(d.jsxs)("span",{class:"col-xg-1 col-md-1 col-xs-3",children:[Object(d.jsx)("img",{onClick:function(){pe(0==Oe?1:0)},src:window.location.origin+"/images/logo/service_inactive.png",alt:"logo",style:{height:"30px",maxHeight:"100%"}}),Object(d.jsx)("span",{style:{color:0==Oe?"black":"white"},children:"Good"})]})]})]})},mt=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"our-important-note bg_tip",children:[Object(d.jsx)("div",{className:"input-checkout-container col-xg-12 col-md-12 col-xs-12 bg_tip",children:"\xa0"}),Object(d.jsx)("div",{className:"col-xs-1"}),Object(d.jsx)("ul",{className:"shopping__btn col-xs-9",children:Object(d.jsx)("li",{className:"shp__checkout",children:Object(d.jsx)("b",{children:Object(d.jsx)("a",{href:"javascript:void(0)",onClick:jt,children:"Proceed to payment"})})})}),Object(d.jsx)("div",{className:"col-xs-2"})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"tiptiptop-bottom-tip",children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"\xa0"]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("img",{class:"col-xg-3 col-md-3 col-xs-3",onClick:function(){ie(0==le?1:0)},src:0==le?window.location.origin+"/images/logo/option_inactive.png":window.location.origin+"/images/logo/option_active.png",alt:"logo",style:{width:"45px",height:"12px",marginTop:"7px"}}),"I want to take transactional fee (0.5$). So waiter can receive the full amount."]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{class:"col-xg-3 col-md-3 col-xs-3",onClick:function(){ue(0==be?1:0)},src:0==be?window.location.origin+"/images/logo/option_inactive.png":window.location.origin+"/images/logo/option_active.png",alt:"logo",style:{width:"45px",height:"12px",marginTop:"7px"}}),"I agree with Terms of use and Personal data processing policy."]})]})};return Object(d.jsxs)(Ee,{title:"Main TiptipTop Page",description:"Ecommerce",showBreadcrumb:!1,children:[Object(d.jsx)("section",{className:"our-checkout-area ptb--10 bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-8 col-lg-8",children:Object(d.jsxs)("div",{className:"ckeckout-left-sidebar",children:[Object(d.jsxs)("div",{className:"checkout-form",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-2 col-lg-2 col-sm-3 col-xs-4",children:Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:window.location.origin+"/images/logo/tiptiptop_logo.png",alt:"logo",style:{height:"100px",maxHeight:"100%"}})})}),Object(d.jsx)("div",{className:"col-md-8 col-lg-8 col-sm-6 col-xs-3",children:Object(d.jsx)("nav",{className:"mainmenu__nav hidden-xs hidden-sm",children:Object(d.jsx)("ul",{className:"main__menu",children:Object(d.jsx)("li",{className:"drop"})})})}),Object(d.jsx)("div",{className:"col-md-2 col-sm-4 col-xs-5",children:Object(d.jsx)("ul",{className:"logo",children:bt()})})]}),Object(d.jsx)("div",{className:"mobile-menu-area"}),Object(d.jsxs)("div",{className:"tiptiptop-amount-bill",children:[Object(d.jsx)("br",{}),"Amount in the bill: ",Object(d.jsx)("input",{className:"input-amount-bill",type:"text",id:"priceBill",onChange:function(e){se(e.target.value),10==Le&&te((.1*e.target.value).toFixed(2)),15==Le&&te((.15*e.target.value).toFixed(2)),20==Le&&te((.2*e.target.value).toFixed(2))},value:ne,style:{fontSize:20,textAlign:"right",color:"white"},maxLength:"7",size:"7"})," ",Object(d.jsx)("span",{className:"font-white",children:"$"})]}),ut()]}),mt()]})})})})}),function(){if(C)return Object(d.jsx)(i.a,{to:{pathname:"/payment",orderId:P}})}()]})},Fe=c(89),Le=c.n(Fe),De=(c(185),function(e){var t=e.product,c=(e.delCallback,e.editCallback,Object(a.useState)(0)),n=Object(m.a)(c,2),s=(n[0],n[1]),o=Object(a.useState)(""),l=Object(m.a)(o,2),i=(l[0],l[1]),j=Object(a.useState)(JSON.parse(t.product)),u=Object(m.a)(j,2),h=u[0];u[1],Object(r.useIndexedDB)("cart").update;Object(a.useEffect)((function(){return s(t.qty)}),[t.qty]),Object(a.useEffect)((function(){return i(t.size)}),[t.size]);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"checkout-single-product",children:[Object(d.jsxs)("div",{className:"shp__pro__thumb",children:[Object(d.jsx)("a",{href:"/design/".concat(t.productType,"/edit/").concat(t._id),className:"product-img-link"}),Object(d.jsx)("img",{src:"".concat(b.API,"/").concat(h.imageURL),onError:function(e){e.target.onerror=null},alt:"Product Imagenn",style:{maxHeight:"100px"}})]}),Object(d.jsx)("div",{className:"shp__pro__details",style:{zIndex:100},children:Object(d.jsx)("a",{href:"/design/".concat(t.productType,"/edit/").concat(t._id),className:"checkout-name",children:h.name})})]}),Object(d.jsx)("ul",{children:Object(d.jsxs)("li",{className:"subtotal",children:["Total:$",t.order_total.toFixed(2)]})})]})}),Re=function(e){var t=Object(a.useState)(),c=Object(m.a)(t,2),n=(c[0],c[1]),s=Object(a.useState)(e.location.orderId),o=Object(m.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(0),h=Object(m.a)(u,2),O=(h[0],h[1]),p=Object(a.useState)(0),x=Object(m.a)(p,2),g=(x[0],x[1]),f=Object(a.useState)(0),v=Object(m.a)(f,2),N=(v[0],v[1]),w=Object(a.useState)(0),_=Object(m.a)(w,2),C=(_[0],_[1]),k=Object(a.useState)(0),I=Object(m.a)(k,2),E=I[0],P=I[1],T=Object(a.useState)(localStorage.getItem("cartLastUpdate")),A=Object(m.a)(T,2),F=A[0],L=A[1],D=Object(r.useIndexedDB)("cart"),R=D.getAll,M=(D.deleteRecord,D.update,Object(a.useState)("")),B=Object(m.a)(M,2),U=B[0],z=B[1],H=Object(a.useState)({}),V=Object(m.a)(H,2),q=(V[0],V[1],Object(a.useState)("")),W=Object(m.a)(q,2),G=(W[0],W[1],Object(a.useState)(0)),J=Object(m.a)(G,2),Y=(J[0],J[1],Object(a.useState)(!1)),$=Object(m.a)(Y,2),Z=($[0],$[1],Object(a.useState)(!1)),K=Object(m.a)(Z,2),X=(K[0],K[1],Object(a.useState)(!0)),Q=Object(m.a)(X,2),ee=Q[0],te=Q[1],ce=Object(a.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{},address:""}),ae=Object(m.a)(ce,2),ne=ae[0],se=ae[1],oe=Object(a.useRef)(null),re=Object(a.useRef)(null),le=Object(a.useRef)(null),ie=Object(a.useRef)(null),de=S(),je=(de.user,de.token,function(){fetch("".concat(b.API,"/braintree/getToken"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?se(Object(y.a)(Object(y.a)({},e),{},{error:e.error})):se({clientToken:e.clientToken})}))});Object(a.useEffect)((function(){void 0===l&&j(localStorage.getItem("orderId")),je()}),[]);var be=Object(a.useCallback)((function(e){console.log("Checkout@onLocalStorageChange"),e.key&&"cartLastUpdate"===e.key&&e.oldValue!==e.newValue&&Oe(),e.key&&"orderId"===e.key&&e.oldValue!==e.newValue&&console.log("Redirect to checkout because someone change orderId.")}),[]),ue=Object(a.useCallback)((function(e){if(console.log("Checkout@onMessageReceived()"),"updateCart"===e.data&&e.origin===b.HOME_URL){var t=localStorage.getItem("cartLastUpdate");null!==t&&t!==F&&setTimeout((function(){Oe(),L(t)}),750)}else{if(e.origin!==b.BASE_FPD_URL)return;setTimeout((function(){Oe()}),750)}}),[]),me=function(){var e;ne.instance.requestPaymentMethod().then((function(t){e=t.nonce,console.log("send nonce and total to process: ",e),console.log(l),function(e){return fetch("".concat(b.API,"/braintree/processPayment"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({paymentMethodNonce:e,orderId:l}).then((function(e){if(console.log("response payment process:",e),!0===e.success){oe.current.click(),te(!1);var t={status:b.ORDER_STATUS.open,is_paid:!0};(function(e,t){return fetch("".concat(b.API,"/orders/").concat(e,"/status"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(l,t).then((function(e){console.log("response update orfder status",e)}))}})).catch((function(e){le.current.click(),console.log(e),se({loading:!1})}))})).catch((function(e){se(Object(y.a)(Object(y.a)({},ne),{},{error:e.message}))}))};Object(a.useEffect)((function(){console.log("localStorage: ",localStorage);var e=localStorage.getItem("orderId");(null!==e||e)&&function(e){return fetch("".concat(b.API,"/orders/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e).then((function(e){console.log("data",e),e.error?localStorage.removeItem("orderId"):z(e)}))}),[]),Object(a.useEffect)((function(){return Oe()}),[]),Object(a.useEffect)((function(){return window.addEventListener("message",ue),function(){return window.removeEventListener("message",ue)}}),[ue]),Object(a.useEffect)((function(){return window.addEventListener("storage",be),function(){return window.removeEventListener("storage",be)}}),[be]);var he=function(){P(!0)},Oe=function(){R().then((function(e){for(var t=0,c=0,a=parseFloat(localStorage.getItem("shippingFee")).toFixed(2),s=0;s<e.length;s++)t+=parseFloat(e[s].price)*parseInt(e[s].qty),c+=parseInt(e[s].qty);n(e),g(t),N(parseFloat(t)+parseFloat(a)),C(a),O(c)}),(function(e){console.log(e)}))},pe=function(){if(console.log("CUrrent Order Render",U.order),U&&""!=U){var e=[];return e.push(U.order),e.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(De,{product:e})},e._id)}))}return Object(d.jsx)("span",{children:"..."})},xe=function(){if(ee)return Object(d.jsx)("div",{onBlur:function(){return se(Object(y.a)(Object(y.a)({},ne),{},{error:""}))},children:null!==ne.clientToken?Object(d.jsxs)("div",{className:"payment-form",children:[Object(d.jsx)("h2",{className:"pasadena-section-title-3",children:"payment details "}),Object(d.jsxs)("div",{className:"mt--20",children:[Object(d.jsx)(Le.a,{options:{authorization:ne.clientToken},onInstance:function(e){return ne.instance=e}}),Object(d.jsx)("div",{className:"checkout-btn",style:{marginTop:20,textAlign:"right"},children:Object(d.jsx)("button",{onClick:me,className:"fv-btn",children:"CONFIRM & BUY NOW"})})]})]}):null})};return Object(d.jsxs)(Ee,{title:"Screen Printing Page",description:"Ecommerce",showBreadcrumb:!1,className:"wrapper fixed__footer",children:[Object(d.jsx)("div",{className:"checkout-form",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-2 col-lg-2 col-sm-3 col-xs-4",children:Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:window.location.origin+"/images/logo/tiptiptop_logo.png",alt:"logo",style:{height:"100px",maxHeight:"100%"}})})}),Object(d.jsx)("div",{className:"col-md-8 col-lg-8 col-sm-6 col-xs-3",children:Object(d.jsx)("nav",{className:"mainmenu__nav hidden-xs hidden-sm",children:Object(d.jsx)("ul",{className:"main__menu",children:Object(d.jsx)("li",{className:"drop"})})})}),Object(d.jsx)("div",{className:"col-md-2 col-sm-4 col-xs-5",children:Object(d.jsx)("ul",{className:"logo",children:pe()})})]})}),Object(d.jsx)("section",{className:"our-checkout-area ptb--120 bg__white",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-8 col-lg-8",children:Object(d.jsx)("div",{className:"ckeckout-left-sidebar",children:xe()})})})})}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{ref:oe,type:"button","data-toggle":"modal","data-target":"#staticBackdrop2",style:{display:"none"}}),Object(d.jsx)("div",{className:"modal fade",id:"staticBackdrop2","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel2","aria-hidden":"true",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsxs)("h5",{className:"modal-title",id:"staticBackdropLabel2",children:["Payment Successful",Object(d.jsx)("button",{ref:re,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return he()},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}),Object(d.jsx)("div",{className:"modal-body",children:"Your payment has been received"})]})})})]}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{ref:le,type:"button","data-toggle":"modal","data-target":"#staticBackdrop3",style:{display:"none"}}),Object(d.jsx)("div",{className:"modal fade",id:"staticBackdrop3","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel3","aria-hidden":"true",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel3",children:"Payment Failed"}),Object(d.jsx)("button",{ref:ie,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return he()},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(d.jsx)("div",{className:"modal-body",children:"Your payment could not bet processed. Try again later"})]})})})]}),function(){var e=JSON.parse(localStorage.getItem("jwt")),t=null!==e?e.user.role:"";return E&&""==t?Object(d.jsx)(i.a,{to:{pathname:"/"}}):E&&"admin"==t?Object(d.jsx)(i.a,{to:{pathname:"/admin/dashboard/user-information"}}):E&&"worker"==t?Object(d.jsx)(i.a,{to:{pathname:"/user/dashboard"}}):void 0}()]})},Me=c(191),Be=function(e){var t=Object(a.useState)(e.orderItems),c=Object(m.a)(t,2),n=c[0],s=c[1],o=Object(a.useState)(""),r=Object(m.a)(o,2),l=r[0],i=r[1],j=Object(a.useState)(""),u=Object(m.a)(j,2),h=u[0],O=u[1],p=Object(a.useState)(!1),x=Object(m.a)(p,2),g=x[0],f=x[1],v=Object(a.useState)(!1),N=Object(m.a)(v,2),y=N[0],w=N[1],_=[{name:"#",width:"60px",cell:function(e){return Object(d.jsx)("div",{children:e.element})}},{name:"Product Name",minWidth:"300px",cell:function(e){return Object(d.jsx)("div",{children:e.item.product_id.name})}},{name:"Price",selector:"price",sortable:!0,cell:function(e){return Object(d.jsxs)("div",{children:["$",e.item.price.toFixed(2)]})}},{name:"Quantity",selector:"qty",sortable:!0,cell:function(e){return Object(d.jsxs)("div",{children:["$",e.item.qty]})}},{name:"Size",width:"60px",selector:"size",sortable:!0,cell:function(e){return Object(d.jsx)("div",{children:e.item.size})}},{name:"Total",sortable:!0,cell:function(e){return Object(d.jsxs)("div",{children:["$",(e.item.price*e.item.qty).toFixed(2)]})}},{name:"Actions",cell:function(e){return C(e.item)},ignoreRowClick:!1,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){S()}),[e]);var S=function(){Me.a(e.orderID)||function(e){var t="".concat(b.API,"/orderItems/").concat(e);return fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e.orderID).then((function(e){if(e.error);else{var t=[],c=1;e.orderItems.map((function(e){t.push({element:c,item:e}),c++})),s(t)}}))},C=function(t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",title:"View Product",className:"btn ".concat(t._id!==l._id?"btn-default":"btn-info"," btn-sm btn-icon"),onClick:function(){return function(t){O(""),e.selectedOrderItemCBReview(null),i(t),e.selectedOrderItemCB&&e.selectedOrderItemCB(t)}(t)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-eye-open","aria-hidden":"true"})}),"\xa0\xa0",Object(d.jsx)("button",{type:"button",title:"Review Product",className:"btn ".concat(t._id!==h._id?"btn-default":"btn-info"," btn-sm btn-icon"),"data-toggle":"modal","data-target":"#reviewProductModal","aria-label":"review",onClick:function(){return function(t){i(""),e.selectedOrderItemCB(null),O(t),e.selectedOrderItemCBReview&&e.selectedOrderItemCBReview(t)}(t)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-star-empty","aria-hidden":"true"})})]})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:g,success:y,onError:function(e){f(e)},onSuccess:function(e){w(e)}})}),Object(d.jsx)(M.a,{columns:_,data:void 0!==n?n:[],pagination:!0,paginationPerPage:5,highlightOnHover:!0,pointerOnHover:!0,noHeader:!0,selectableRowsHighlight:!0})]})},Ue=function(e){var t=e.selectedOrder,c=Object(a.useState)({}),s=Object(m.a)(c,2),o=s[0],r=s[1],l=Object(a.useState)({}),i=Object(m.a)(l,2),j=i[0],u=i[1],h=Object(a.useState)(""),O=Object(m.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(0),f=Object(m.a)(g,2),v=f[0],N=f[1],y=Object(a.useState)("Order #"+t._id),w=Object(m.a)(y,2),_=w[0],C=w[1],k=Object(a.useState)(!1),I=Object(m.a)(k,2),E=I[0],P=I[1],T=Object(a.useState)(!1),A=Object(m.a)(T,2),F=A[0],L=A[1],D=n.a.useRef(null),R=S(),M=R.user,B=R.token,U=function(e){e.preventDefault(),P(!1),v>0&&""!=p?Y(B,{rating:v,review:p,product:j.product_id._id,user:M._id}).then((function(e){"The rating already exist"!=e.message?e.error?(P(e.error.description),console.log("error",E)):(V(null),N(0),x(""),L("Review Created")):P(e.message)})):P("Must indicate a value for the rating / description")},H=function(e){e.preventDefault(),P(!1),L(!1)},V=function(e){return u(e)},q=Object(a.useCallback)((function(e){e.origin===b.BASE_FPD_URL&&e&&e.data&&"viewProduct"===e.data&&e.source.postMessage(JSON.stringify(o.product_obj),e.origin)}),[o]);Object(a.useEffect)((function(){Me.a(t)||Me.a(t._id)||C("Order #"+t._id)}),[t]),Object(a.useEffect)((function(){return window.addEventListener("message",q),function(){return window.removeEventListener("message",q)}}),[q]);return Object(d.jsx)(a.Fragment,{children:Object(d.jsx)("div",{className:"modal fade",id:"orderSelectedModal",role:"dialog","aria-labelledby":"myModalLabel",children:Object(d.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("button",{ref:D,type:"button",className:"close","data-dismiss":"modal",onClick:function(){r(null),x(""),N(0)},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:_})]}),Object(d.jsxs)("div",{className:"modal-body",style:{padding:"30px"},children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(z,{error:E,onError:function(e){P(e)}}),Object(d.jsxs)("div",{className:"alert alert-info col-xs-12 col-sm-offset-3 col-sm-6 col-lg-offset-3 col-lg-6",style:{display:F?"":"none"},children:[F,Object(d.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:H,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]}),Object(d.jsx)("div",{style:{paddingBottom:9,marginBottom:10,borderBottom:"1px solid #eee"},children:Object(d.jsx)("h6",{children:"Customer Info"})}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"Name: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_name})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"Address Line 1: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_addressLine1})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"E-mail: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_email})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"Address Line 2: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_addressLine2})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"Phone: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_phone})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"City: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_city})]})]}),Object(d.jsxs)("div",{className:"form-row row",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"Zip Code: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_zipCode})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 col-lg-6",children:[Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",style:{fontWeight:500},children:"State: "}),Object(d.jsx)("span",{htmlFor:"name",className:"normal-label",children:t.customer_state})]})]}),Object(d.jsx)("div",{style:{marginTop:20,paddingBottom:9,marginBottom:10,borderBottom:"1px solid #eee"},children:Object(d.jsx)("h6",{children:"Products"})}),Object(d.jsx)(Be,{orderID:t._id,selectedOrderItemCB:function(e){return r(e)},selectedOrderItemCBReview:V}),function(){if(Me.a(o)||Me.a(o._id))return null;console.log("Pase por FPDIframe");var e="606dd5141d92c0793269d682"==o.product_id.printingType;return Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(ne.a,{url:b.FPD_URL+"".concat(e?"m/":"/")+"5fab3963a0d1f711fbe68c87/".concat(o.product_id?o.product_id._id:[],"/").concat(o.color),styles:{border:"none",height:"600px"},width:"100%",height:"550px",frameBorder:"0",id:"myId",className:"myClassname",allowFullScreen:!0,display:"initial",position:"relative"})})}(),(console.log("selectedOrderItemReview",j),Me.a(j)||Me.a(j._id)?null:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)("div",{className:"well well-sm",children:Object(d.jsx)("div",{className:"row",id:"post-review-box",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)("form",{"accept-charset":"UTF-8",action:"",method:"post",children:Object(d.jsxs)("div",{className:"text-right",children:[Object(d.jsx)("div",{className:"well-sm",children:Object(d.jsx)(Te.a,{value:v,size:"16px",inactiveColor:"#cccccc",onChange:function(e){return N(e)}})}),Object(d.jsx)("input",{id:"ratings-hidden",name:"rating",type:"hidden"}),Object(d.jsx)("textarea",{value:p,onChange:function(e){return x(e.target.value)},className:"form-control animated",cols:"50",id:"new-review",name:"comment",placeholder:"Enter your review here...",rows:"3"}),Object(d.jsx)("div",{className:"well-sm",children:Object(d.jsx)("button",{className:"btn btn-success btn-lg",type:"button",onClick:U,children:"Save"})})]})})})})})})}))]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){D.current.click(),x(""),N(0),r(null)},children:"Close"})})]})})})})},ze=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),o=Object(m.a)(s,2),r=o[0],l=o[1],i=Object(a.useState)("open"),j=Object(m.a)(i,2),u=j[0],h=j[1],O=Object(a.useState)(""),p=Object(m.a)(O,2),x=p[0],g=p[1],f=Object(a.useState)(!1),v=Object(m.a)(f,2),N=v[0],y=v[1],w=Object(a.useState)(!1),_=Object(m.a)(w,2),S=_[0],C=_[1],k=[{name:"Order Number",width:"220px",cell:function(e){return Object(d.jsx)("div",{children:e._id})}},{name:"Status",selector:"status",sortable:!0,cell:function(e){return function(e){var t="#18cc1b",c="";switch(e){case"open":c="Open";break;case"pending_payment":c="Pending for Payment",t="#f77700";break;case"completed":c="Completed",t="#0d7c0f";break;case"canceled":c="Canceled",t="#e50909"}return Object(d.jsx)("div",{children:Object(d.jsx)("span",{style:{color:t,fontWeight:500},children:c})})}(e.status)}},{name:"Is Paid",width:"100px",selector:"is_paid",sortable:!0,cell:function(e){return e.is_paid?Object(d.jsx)("div",{children:"Paid"}):Object(d.jsx)("div",{children:"Not Paid"})}},{name:"Order Date",selector:"order_date",sortable:!0,cell:function(e){return Object(d.jsx)("div",{children:U()(e.order_date).format("DD-MM-YYYY hh:mm A")})}},{name:"Quantity",width:"100px",selector:"order_qty",sortable:!0},{name:"Order Total",selector:"order_total",sortable:!0,cell:function(e){return Object(d.jsxs)("div",{children:["$",e.order_total.toFixed(2)]})}},{name:"Actions",cell:function(e){return E(e)},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){console.log(U()()),I()}),[]),Object(a.useEffect)((function(){if(c){var e=c.filter((function(e){return e.status===u||"all"===u}));g(e)}}),[u,c]);var I=function(){(function(){var e="".concat(b.API,"/orders");return fetch(e,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})().then((function(e){e.error||n(e)}))},E=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",title:"View Details",className:"btn btn-default btn-sm btn-icon","data-toggle":"modal","data-target":"#orderSelectedModal","aria-label":"view",onClick:function(){l(e)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-eye-open","aria-hidden":"true"})}),"\xa0\xa0",Object(d.jsx)("button",{type:"button",title:"Change Status",className:"btn btn-default btn-sm btn-icon","data-toggle":"modal","data-target":"#categoryModal","aria-label":"edit",onClick:function(){l(e)},children:Object(d.jsx)("span",{className:"glyphicon glyphicon-tag","aria-hidden":"true"})})]})};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(Ue,{selectedOrder:r}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(z,{error:N,success:S,onError:function(e){y(e)},onSuccess:function(e){C(e)}})}),Object(d.jsx)(M.a,{columns:k,data:x,pagination:!0,highlightOnHover:!0,pointerOnHover:!0,subHeader:!0,subHeaderComponent:[Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("label",{for:"filterByStatus",children:"Filter by Status: "}),Object(d.jsxs)("select",{name:"filterByStatus",className:"form-control",defaultValue:u,onChange:function(e){return h(e.target.value)},children:[Object(d.jsx)("option",{value:"all",children:"All"}),Object(d.jsx)("option",{value:"pending_payment",children:"Pending for Payment"}),Object(d.jsx)("option",{value:"open",children:"Open"}),Object(d.jsx)("option",{value:"completed",children:"Completed"}),Object(d.jsx)("option",{value:"canceled",children:"Canceled"})]})]})})]})]})},He=function(e){return Object(d.jsx)(v,{title:"Home Page",description:"Ecommerce",showBreadcrumb:!0,currentPage:"Admin Dashboard",children:Object(d.jsx)(a.Fragment,{children:Object(d.jsxs)("div",{className:"container ptb--40",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(me,{})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(ze,{})})]})})})},Ve=function(){return Object(d.jsx)(l.a,{children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/",exact:!0,component:E}),Object(d.jsx)(i.b,{path:"/auth",exact:!0,component:I}),Object(d.jsx)(i.b,{path:"/screen-printing/traditional",exact:!0,component:X}),Object(d.jsx)(i.b,{path:"/main",exact:!0,component:X}),Object(d.jsx)(i.b,{path:"/screen-printing/htv",exact:!0,component:Q}),Object(d.jsx)(i.b,{path:"/sublimation",exact:!0,component:ee}),Object(d.jsx)(i.b,{path:"/embroidery",exact:!0,component:te}),Object(d.jsx)(i.b,{path:"/engraving",exact:!0,component:ce}),Object(d.jsx)(i.b,{path:"/merchandise",exact:!0,component:ae}),Object(d.jsx)(i.b,{path:"/design/:productId",exact:!0,component:oe}),Object(d.jsx)(i.b,{path:"/design/:productId/edit/:editProductId",exact:!0,component:oe}),Object(d.jsx)(i.b,{path:"/design/:productId/edit/:editProductId/print/:printingType",exact:!0,component:oe}),Object(d.jsx)(i.b,{path:"/cart",exact:!0,component:Ie}),Object(d.jsx)(i.b,{path:"/checkout",exact:!0,component:Ae}),Object(d.jsx)(i.b,{path:"/payment",exact:!0,component:Re}),Object(d.jsx)(le,{path:"/user/dashboard",exact:!0,component:je}),Object(d.jsx)(le,{path:"/user/confirm",exact:!0,component:be}),Object(d.jsx)(le,{path:"/admin/dashboard/user-information",adminRole:!0,exact:!0,component:he}),Object(d.jsx)(le,{path:"/admin/dashboard/categories",adminRole:!0,exact:!0,component:xe}),Object(d.jsx)(le,{path:"/admin/dashboard/products",adminRole:!0,exact:!0,component:we}),Object(d.jsx)(le,{path:"/admin/dashboard/products/:id/product-views",adminRole:!0,exact:!0,component:Ce}),Object(d.jsx)(le,{path:"/admin/dashboard/orders",adminRole:!0,exact:!0,component:He})]})})};Object(r.initDB)(b.DB_CONFIG),o.a.render(Object(d.jsx)(Ve,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,c){}},[[186,1,2]]]);
//# sourceMappingURL=main.3a98e756.chunk.js.map